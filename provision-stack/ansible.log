2023-04-19 09:27:00,910 p=1145 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 09:27:00,930 p=1145 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 09:27:02,290 p=1145 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 09:27:02,310 p=1145 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 09:27:18,403 p=1145 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 09:27:59,741 p=1145 u=ubuntu n=ansible | changed: [localhost] => (item=openjdk-8-jdk)
2023-04-19 09:28:10,879 p=1145 u=ubuntu n=ansible | changed: [localhost] => (item=maven)
2023-04-19 09:28:10,900 p=1145 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 09:28:16,907 p=1145 u=ubuntu n=ansible | changed: [localhost]
2023-04-19 09:28:16,917 p=1145 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 09:28:57,127 p=1145 u=ubuntu n=ansible | changed: [localhost]
2023-04-19 09:28:57,176 p=1145 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 09:28:58,466 p=1145 u=ubuntu n=ansible | failed: [localhost] (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war) => {"ansible_loop_var": "item", "changed": false, "checksum": "6d3bf46219ca2335823653972238c33e46410c0f", "item": "/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war", "msg": "Destination directory files does not exist"}
2023-04-19 09:28:58,474 p=1145 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 09:28:58,474 p=1145 u=ubuntu n=ansible | localhost                  : ok=4    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 10:27:25,687 p=6063 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:27:25,708 p=6063 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:27:27,156 p=6063 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:27:27,177 p=6063 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 10:27:34,312 p=6063 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 10:27:36,837 p=6063 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 10:27:39,382 p=6063 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 10:27:39,394 p=6063 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 10:27:40,315 p=6063 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:27:40,325 p=6063 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 10:27:40,345 p=6063 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 10:27:40,357 p=6063 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 10:27:41,876 p=6063 u=ubuntu n=ansible | failed: [localhost] (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war) => {"ansible_loop_var": "item", "changed": false, "checksum": "6d3bf46219ca2335823653972238c33e46410c0f", "item": "/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war", "msg": "Destination directory files does not exist"}
2023-04-19 10:27:41,881 p=6063 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:27:41,881 p=6063 u=ubuntu n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2023-04-19 10:36:59,140 p=7696 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:36:59,158 p=7696 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:37:00,493 p=7696 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:37:00,514 p=7696 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 10:37:03,130 p=7696 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 10:37:05,594 p=7696 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 10:37:08,006 p=7696 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 10:37:08,020 p=7696 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 10:37:08,935 p=7696 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:37:08,944 p=7696 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 10:37:08,963 p=7696 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 10:37:08,973 p=7696 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 10:37:09,378 p=7696 u=ubuntu n=ansible | changed: [localhost]
2023-04-19 10:37:09,390 p=7696 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 10:37:09,415 p=7696 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": true,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
                "state": "directory"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
                "state": "absent"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 10:37:09,426 p=7696 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 10:37:10,526 p=7696 u=ubuntu n=ansible | failed: [localhost] (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war) => {"ansible_loop_var": "item", "changed": false, "checksum": "6d3bf46219ca2335823653972238c33e46410c0f", "item": "/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war", "msg": "Destination directory files does not exist"}
2023-04-19 10:37:10,531 p=7696 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:37:10,531 p=7696 u=ubuntu n=ansible | localhost                  : ok=5    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2023-04-19 10:38:39,969 p=9299 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:38:39,980 p=9299 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:38:41,216 p=9299 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:38:41,241 p=9299 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 10:38:43,877 p=9299 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 10:38:46,278 p=9299 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 10:38:48,731 p=9299 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 10:38:48,743 p=9299 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 10:38:49,607 p=9299 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:38:49,615 p=9299 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 10:38:49,634 p=9299 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 10:38:49,644 p=9299 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 10:38:50,050 p=9299 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:38:50,061 p=9299 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 10:38:50,088 p=9299 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 10:38:50,096 p=9299 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 10:38:51,190 p=9299 u=ubuntu n=ansible | changed: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 10:38:51,204 p=9299 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 10:38:51,659 p=9299 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "checksum": "cdad627ef9f56b87f516776ff154ff77d65741db", "msg": "Destination directory files does not exist"}
2023-04-19 10:38:51,663 p=9299 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:38:51,663 p=9299 u=ubuntu n=ansible | localhost                  : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2023-04-19 10:41:18,318 p=10979 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:41:18,328 p=10979 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:41:19,564 p=10979 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:41:19,585 p=10979 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 10:41:22,190 p=10979 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 10:41:24,583 p=10979 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 10:41:31,195 p=10979 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 10:41:31,206 p=10979 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 10:41:32,062 p=10979 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:41:32,073 p=10979 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 10:41:32,092 p=10979 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 10:41:32,103 p=10979 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 10:41:32,506 p=10979 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:41:32,514 p=10979 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 10:41:32,538 p=10979 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 10:41:32,548 p=10979 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 10:41:33,331 p=10979 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 10:41:33,345 p=10979 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 10:41:33,945 p=10979 u=ubuntu n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "checksum": "cdad627ef9f56b87f516776ff154ff77d65741db", "msg": "Destination directory files does not exist"}
2023-04-19 10:41:33,949 p=10979 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:41:33,949 p=10979 u=ubuntu n=ansible | localhost                  : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2023-04-19 10:42:34,595 p=12602 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:42:34,605 p=12602 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:42:35,726 p=12602 u=ubuntu n=ansible |  [ERROR]: User interrupted execution

2023-04-19 10:42:43,466 p=12675 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:42:43,477 p=12675 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:42:44,704 p=12675 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:42:44,729 p=12675 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 10:42:47,301 p=12675 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 10:42:49,674 p=12675 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 10:42:52,070 p=12675 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 10:42:52,081 p=12675 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 10:42:52,919 p=12675 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:42:52,928 p=12675 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 10:42:52,949 p=12675 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 10:42:52,958 p=12675 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 10:42:53,358 p=12675 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:42:53,366 p=12675 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 10:42:53,390 p=12675 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 10:42:53,401 p=12675 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 10:42:54,182 p=12675 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 10:42:54,193 p=12675 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 10:42:54,791 p=12675 u=ubuntu n=ansible | changed: [localhost]
2023-04-19 10:42:54,821 p=12675 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:42:54,821 p=12675 u=ubuntu n=ansible | localhost                  : ok=7    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 10:43:35,086 p=14302 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 10:43:35,096 p=14302 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:43:37,026 p=14302 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:43:37,831 p=14302 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:43:37,930 p=14302 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:43:37,942 p=14302 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:43:37,953 p=14302 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:43:39,603 p=14302 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:43:39,685 p=14302 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 10:43:39,746 p=14302 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:43:39,774 p=14302 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:43:39,806 p=14302 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:43:39,854 p=14302 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:43:39,855 p=14302 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:43:39,870 p=14302 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:43:39,880 p=14302 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 10:43:40,691 p=14302 u=ubuntu n=ansible | changed: [mc01]
2023-04-19 10:43:40,692 p=14302 u=ubuntu n=ansible | changed: [app01]
2023-04-19 10:43:40,707 p=14302 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 10:43:40,707 p=14302 u=ubuntu n=ansible | changed: [web01]
2023-04-19 10:43:40,750 p=14302 u=ubuntu n=ansible | changed: [cntl]
2023-04-19 10:43:41,042 p=14302 u=ubuntu n=ansible | changed: [db01]
2023-04-19 10:43:41,192 p=14302 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:43:41,192 p=14302 u=ubuntu n=ansible | app01                      : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:43:41,192 p=14302 u=ubuntu n=ansible | cntl                       : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:43:41,192 p=14302 u=ubuntu n=ansible | db01                       : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:43:41,193 p=14302 u=ubuntu n=ansible | mc01                       : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:43:41,193 p=14302 u=ubuntu n=ansible | rmq01                      : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:43:41,193 p=14302 u=ubuntu n=ansible | web01                      : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:44:45,604 p=14583 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:44:45,614 p=14583 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:44:46,844 p=14583 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:44:46,864 p=14583 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 10:44:49,385 p=14583 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 10:44:56,220 p=14583 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 10:44:58,572 p=14583 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 10:44:58,583 p=14583 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 10:44:59,413 p=14583 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:44:59,425 p=14583 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 10:44:59,444 p=14583 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 10:44:59,455 p=14583 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 10:44:59,860 p=14583 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:44:59,872 p=14583 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 10:44:59,896 p=14583 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 10:44:59,906 p=14583 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 10:45:00,698 p=14583 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 10:45:00,711 p=14583 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 10:45:01,199 p=14583 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:45:01,230 p=14583 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 10:45:01,235 p=14583 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:45:03,045 p=14583 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:45:03,337 p=14583 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:45:03,347 p=14583 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:45:03,384 p=14583 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:45:03,397 p=14583 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:45:04,828 p=14583 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:45:04,912 p=14583 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 10:45:04,974 p=14583 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:45:05,014 p=14583 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:45:05,042 p=14583 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:45:05,074 p=14583 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:45:05,075 p=14583 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:45:05,087 p=14583 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:45:05,099 p=14583 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 10:45:05,987 p=14583 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:45:05,988 p=14583 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:45:05,991 p=14583 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:45:06,002 p=14583 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:45:06,071 p=14583 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:45:06,344 p=14583 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:45:06,497 p=14583 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 10:45:06,520 p=14583 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 10:46:49,098 p=14583 u=ubuntu n=ansible | changed: [db01] => (item=mysql-server)
2023-04-19 10:46:59,200 p=14583 u=ubuntu n=ansible | changed: [db01] => (item=mysql-client)
2023-04-19 10:47:00,068 p=14583 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 10:47:10,292 p=14583 u=ubuntu n=ansible | changed: [db01] => (item=python3-mysqldb)
2023-04-19 10:47:37,369 p=14583 u=ubuntu n=ansible | changed: [db01] => (item=libmysqlclient-dev)
2023-04-19 10:47:37,377 p=14583 u=ubuntu n=ansible | ...ignoring
2023-04-19 10:47:37,386 p=14583 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 10:47:38,291 p=14583 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:47:38,302 p=14583 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 10:47:39,029 p=14583 u=ubuntu n=ansible | changed: [db01]
2023-04-19 10:47:39,040 p=14583 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 10:47:39,569 p=14583 u=ubuntu n=ansible | changed: [db01]
2023-04-19 10:47:39,580 p=14583 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 10:47:40,084 p=14583 u=ubuntu n=ansible | changed: [db01]
2023-04-19 10:47:40,108 p=14583 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 10:47:43,363 p=14583 u=ubuntu n=ansible | changed: [db01]
2023-04-19 10:47:43,381 p=14583 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 10:47:43,402 p=14583 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 10:47:43,478 p=14583 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-04-19 10:47:43,478 p=14583 u=ubuntu n=ansible | fatal: [db01]: FAILED! => {"changed": false, "msg": "Could not find or access 'files/db_backup.sql'\nSearched in:\n\t/home/ubuntu/ansible_testing/provision-stack/files/files/db_backup.sql\n\t/home/ubuntu/ansible_testing/provision-stack/files/db_backup.sql\n\t/home/ubuntu/ansible_testing/provision-stack/files/files/db_backup.sql\n\t/home/ubuntu/ansible_testing/provision-stack/files/db_backup.sql on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-04-19 10:47:43,479 p=14583 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:47:43,479 p=14583 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:47:43,480 p=14583 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:47:43,480 p=14583 u=ubuntu n=ansible | db01                       : ok=9    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2023-04-19 10:47:43,480 p=14583 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 10:47:43,480 p=14583 u=ubuntu n=ansible | mc01                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:47:43,480 p=14583 u=ubuntu n=ansible | rmq01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:47:43,480 p=14583 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:52:29,192 p=16606 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 10:52:29,202 p=16606 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:52:30,455 p=16606 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:52:30,476 p=16606 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 10:52:33,142 p=16606 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 10:52:35,609 p=16606 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 10:52:38,033 p=16606 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 10:52:38,045 p=16606 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 10:52:38,878 p=16606 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:52:38,889 p=16606 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 10:52:38,908 p=16606 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 10:52:38,920 p=16606 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 10:52:39,331 p=16606 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:52:39,343 p=16606 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 10:52:39,367 p=16606 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 10:52:39,378 p=16606 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 10:52:40,174 p=16606 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 10:52:40,185 p=16606 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 10:52:40,659 p=16606 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 10:52:40,690 p=16606 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 10:52:40,696 p=16606 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 10:52:42,445 p=16606 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:52:42,724 p=16606 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:52:42,798 p=16606 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:52:42,816 p=16606 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:52:42,826 p=16606 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:52:44,671 p=16606 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:52:44,753 p=16606 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 10:52:44,817 p=16606 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:52:44,852 p=16606 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:52:44,880 p=16606 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:52:44,912 p=16606 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:52:44,913 p=16606 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:52:44,926 p=16606 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:52:44,937 p=16606 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 10:52:45,828 p=16606 u=ubuntu n=ansible | ok: [web01]
2023-04-19 10:52:45,828 p=16606 u=ubuntu n=ansible | ok: [app01]
2023-04-19 10:52:45,835 p=16606 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 10:52:45,842 p=16606 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 10:52:45,907 p=16606 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 10:52:46,179 p=16606 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:52:46,331 p=16606 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 10:52:46,353 p=16606 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 10:52:47,578 p=16606 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 10:52:48,773 p=16606 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 10:52:49,605 p=16606 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 10:52:50,797 p=16606 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 10:52:51,990 p=16606 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 10:52:51,995 p=16606 u=ubuntu n=ansible | ...ignoring
2023-04-19 10:52:52,002 p=16606 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 10:52:52,838 p=16606 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:52:52,849 p=16606 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 10:52:53,416 p=16606 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:52:53,428 p=16606 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 10:52:53,949 p=16606 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:52:53,961 p=16606 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 10:52:54,442 p=16606 u=ubuntu n=ansible | ok: [db01]
2023-04-19 10:52:54,473 p=16606 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 10:52:54,495 p=16606 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 10:52:54,569 p=16606 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-04-19 10:52:54,569 p=16606 u=ubuntu n=ansible | fatal: [db01]: FAILED! => {"changed": false, "msg": "Could not find or access 'files/db_backup.sql'\nSearched in:\n\t/home/ubuntu/ansible_testing/provision-stack/files/files/db_backup.sql\n\t/home/ubuntu/ansible_testing/provision-stack/files/db_backup.sql\n\t/home/ubuntu/ansible_testing/provision-stack/files/files/db_backup.sql\n\t/home/ubuntu/ansible_testing/provision-stack/files/db_backup.sql on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-04-19 10:52:54,570 p=16606 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 10:52:54,570 p=16606 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:52:54,570 p=16606 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:52:54,571 p=16606 u=ubuntu n=ansible | db01                       : ok=8    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2023-04-19 10:52:54,571 p=16606 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 10:52:54,571 p=16606 u=ubuntu n=ansible | mc01                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:52:54,571 p=16606 u=ubuntu n=ansible | rmq01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 10:52:54,571 p=16606 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:35:49,765 p=18601 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 11:35:49,775 p=18601 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:35:51,042 p=18601 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:35:51,063 p=18601 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 11:36:01,977 p=18601 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 11:36:07,463 p=18601 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 11:36:09,970 p=18601 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 11:36:09,984 p=18601 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 11:36:11,193 p=18601 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:36:11,205 p=18601 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 11:36:11,224 p=18601 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 11:36:11,235 p=18601 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 11:36:11,648 p=18601 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:36:11,659 p=18601 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 11:36:11,683 p=18601 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 11:36:11,694 p=18601 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 11:36:12,978 p=18601 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 11:36:12,989 p=18601 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 11:36:13,464 p=18601 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:36:13,495 p=18601 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 11:36:13,501 p=18601 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:36:15,286 p=18601 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:36:15,529 p=18601 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:36:15,622 p=18601 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:36:15,648 p=18601 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:36:15,654 p=18601 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:36:17,125 p=18601 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:36:17,211 p=18601 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 11:36:17,278 p=18601 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:36:17,303 p=18601 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:36:17,340 p=18601 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:36:17,369 p=18601 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:36:17,370 p=18601 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:36:17,385 p=18601 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:36:17,396 p=18601 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 11:36:18,294 p=18601 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:36:18,295 p=18601 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:36:18,302 p=18601 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:36:18,310 p=18601 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:36:18,376 p=18601 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:36:18,654 p=18601 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:36:18,834 p=18601 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 11:36:18,857 p=18601 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 11:36:20,082 p=18601 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 11:36:21,267 p=18601 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 11:36:22,123 p=18601 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 11:36:23,350 p=18601 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 11:36:24,610 p=18601 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 11:36:24,613 p=18601 u=ubuntu n=ansible | ...ignoring
2023-04-19 11:36:24,621 p=18601 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 11:36:25,462 p=18601 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:36:25,470 p=18601 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 11:36:26,025 p=18601 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:36:26,036 p=18601 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 11:36:26,552 p=18601 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:36:26,563 p=18601 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 11:36:27,043 p=18601 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:36:27,074 p=18601 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 11:36:27,096 p=18601 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 11:36:27,880 p=18601 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:36:27,891 p=18601 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 11:36:28,437 p=18601 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:36:28,461 p=18601 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 11:36:31,310 p=18601 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:36:31,329 p=18601 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 11:36:31,350 p=18601 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 11:37:46,233 p=18601 u=ubuntu n=ansible | changed: [mc01]
2023-04-19 11:37:46,244 p=18601 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 11:37:46,734 p=18601 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:37:46,742 p=18601 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 11:37:47,056 p=18601 u=ubuntu n=ansible | changed: [mc01]
2023-04-19 11:37:47,079 p=18601 u=ubuntu n=ansible | RUNNING HANDLER [Restart memcached] ************************************************************************************************************************************
2023-04-19 11:37:47,666 p=18601 u=ubuntu n=ansible | changed: [mc01]
2023-04-19 11:37:47,681 p=18601 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 11:37:47,703 p=18601 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 11:37:50,050 p=18601 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 11:37:50,061 p=18601 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 11:37:50,917 p=18601 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:37:50,928 p=18601 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 11:41:20,068 p=18601 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 11:41:20,076 p=18601 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 11:41:21,354 p=18601 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 11:41:21,366 p=18601 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 11:42:16,227 p=18601 u=ubuntu n=ansible | fatal: [rmq01]: FAILED! => {"changed": false, "msg": "Failed to update apt cache: E:The repository 'https://dl.bintray.com/rabbitmq/debian bionic Release' does not have a Release file."}
2023-04-19 11:42:16,228 p=18601 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 11:42:16,228 p=18601 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:42:16,228 p=18601 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:42:16,228 p=18601 u=ubuntu n=ansible | db01                       : ok=11   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 11:42:16,228 p=18601 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 11:42:16,229 p=18601 u=ubuntu n=ansible | mc01                       : ok=7    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:42:16,229 p=18601 u=ubuntu n=ansible | rmq01                      : ok=7    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 11:42:16,229 p=18601 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:49:09,207 p=20710 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 11:49:09,218 p=20710 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:49:10,501 p=20710 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:49:10,523 p=20710 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 11:49:13,157 p=20710 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 11:49:18,013 p=20710 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 11:49:23,475 p=20710 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 11:49:23,488 p=20710 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 11:49:24,321 p=20710 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:49:24,333 p=20710 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 11:49:24,352 p=20710 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 11:49:24,363 p=20710 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 11:49:24,769 p=20710 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:49:24,780 p=20710 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 11:49:24,805 p=20710 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 11:49:24,816 p=20710 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 11:49:25,603 p=20710 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 11:49:25,616 p=20710 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 11:49:26,079 p=20710 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:49:26,109 p=20710 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 11:49:26,115 p=20710 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:49:27,754 p=20710 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:49:28,043 p=20710 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:49:28,054 p=20710 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:49:28,286 p=20710 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:49:28,550 p=20710 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:49:29,589 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:29,674 p=20710 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 11:49:29,734 p=20710 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:49:29,765 p=20710 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:49:29,800 p=20710 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:49:29,822 p=20710 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:49:29,832 p=20710 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:49:29,845 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:29,855 p=20710 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 11:49:30,742 p=20710 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:49:30,743 p=20710 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:49:30,750 p=20710 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:49:30,758 p=20710 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:49:30,826 p=20710 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:49:31,096 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:31,251 p=20710 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 11:49:31,274 p=20710 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 11:49:32,488 p=20710 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 11:49:33,688 p=20710 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 11:49:34,532 p=20710 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 11:49:35,746 p=20710 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 11:49:36,958 p=20710 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 11:49:36,963 p=20710 u=ubuntu n=ansible | ...ignoring
2023-04-19 11:49:36,971 p=20710 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 11:49:37,798 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:37,809 p=20710 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 11:49:38,366 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:38,378 p=20710 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 11:49:38,893 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:38,904 p=20710 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 11:49:39,380 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:39,411 p=20710 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 11:49:39,433 p=20710 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 11:49:40,050 p=20710 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:49:40,061 p=20710 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 11:49:40,643 p=20710 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:49:40,663 p=20710 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 11:49:42,998 p=20710 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:49:43,014 p=20710 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 11:49:43,035 p=20710 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 11:49:44,039 p=20710 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:49:44,049 p=20710 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 11:49:44,522 p=20710 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:49:44,530 p=20710 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 11:49:44,831 p=20710 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:49:44,861 p=20710 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 11:49:44,884 p=20710 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 11:49:47,967 p=20710 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:49:47,978 p=20710 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 11:49:48,749 p=20710 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:49:48,760 p=20710 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 11:49:49,782 p=20710 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:49:49,790 p=20710 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 11:49:50,599 p=20710 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:49:50,610 p=20710 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 11:50:43,992 p=20710 u=ubuntu n=ansible | fatal: [rmq01]: FAILED! => {"changed": false, "msg": "Failed to update apt cache: W:GPG error: http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu bionic InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY F77F1EDA57EBB1CC, E:The repository 'http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu bionic InRelease' is not signed."}
2023-04-19 11:50:43,993 p=20710 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 11:50:43,993 p=20710 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:50:43,993 p=20710 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:50:43,993 p=20710 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 11:50:43,993 p=20710 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 11:50:43,994 p=20710 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:50:43,994 p=20710 u=ubuntu n=ansible | rmq01                      : ok=7    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 11:50:43,994 p=20710 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:53:32,423 p=22760 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 11:53:32,434 p=22760 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:53:33,701 p=22760 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:53:33,724 p=22760 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 11:53:39,390 p=22760 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 11:53:44,329 p=22760 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 11:53:48,897 p=22760 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 11:53:48,908 p=22760 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 11:53:49,782 p=22760 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:53:49,793 p=22760 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 11:53:49,813 p=22760 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 11:53:49,824 p=22760 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 11:53:50,229 p=22760 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:53:50,241 p=22760 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 11:53:50,265 p=22760 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 11:53:50,276 p=22760 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 11:53:51,066 p=22760 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 11:53:51,080 p=22760 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 11:53:51,550 p=22760 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:53:51,580 p=22760 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 11:53:51,586 p=22760 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:53:53,338 p=22760 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:53:53,510 p=22760 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:53:53,587 p=22760 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:53:53,616 p=22760 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:53:53,924 p=22760 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:53:55,127 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:53:55,212 p=22760 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 11:53:55,274 p=22760 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:53:55,304 p=22760 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:53:55,338 p=22760 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:53:55,362 p=22760 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:53:55,368 p=22760 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:53:55,382 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:53:55,393 p=22760 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 11:53:56,302 p=22760 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:53:56,303 p=22760 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:53:56,304 p=22760 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:53:56,315 p=22760 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:53:56,373 p=22760 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:53:56,646 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:53:56,799 p=22760 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 11:53:56,822 p=22760 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 11:53:58,020 p=22760 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 11:53:59,199 p=22760 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 11:54:00,019 p=22760 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 11:54:01,225 p=22760 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 11:54:02,422 p=22760 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 11:54:02,425 p=22760 u=ubuntu n=ansible | ...ignoring
2023-04-19 11:54:02,432 p=22760 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 11:54:03,266 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:54:03,278 p=22760 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 11:54:03,834 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:54:03,845 p=22760 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 11:54:04,367 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:54:04,378 p=22760 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 11:54:04,863 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:54:04,891 p=22760 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 11:54:04,916 p=22760 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 11:54:05,518 p=22760 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:54:05,526 p=22760 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 11:54:06,080 p=22760 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:54:06,103 p=22760 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 11:54:08,542 p=22760 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:54:08,558 p=22760 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 11:54:08,579 p=22760 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 11:54:09,578 p=22760 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:54:09,589 p=22760 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 11:54:10,059 p=22760 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:54:10,068 p=22760 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 11:54:10,370 p=22760 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:54:10,398 p=22760 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 11:54:10,421 p=22760 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 11:54:13,415 p=22760 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:54:13,426 p=22760 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 11:54:14,191 p=22760 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:54:14,202 p=22760 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 11:54:15,260 p=22760 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:54:15,271 p=22760 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 11:54:16,038 p=22760 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:54:16,049 p=22760 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 11:54:16,718 p=22760 u=ubuntu n=ansible | fatal: [rmq01]: FAILED! => {"changed": false, "msg": "Invalid repository string: ddeb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ bionic main"}
2023-04-19 11:54:16,719 p=22760 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 11:54:16,720 p=22760 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:54:16,720 p=22760 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:54:16,720 p=22760 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 11:54:16,720 p=22760 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 11:54:16,720 p=22760 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:54:16,720 p=22760 u=ubuntu n=ansible | rmq01                      : ok=7    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 11:54:16,720 p=22760 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:55:14,444 p=24811 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 11:55:14,454 p=24811 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:55:15,743 p=24811 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:55:15,764 p=24811 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 11:55:18,396 p=24811 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 11:55:25,268 p=24811 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 11:55:30,020 p=24811 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 11:55:30,033 p=24811 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 11:55:30,885 p=24811 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:55:30,897 p=24811 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 11:55:30,916 p=24811 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 11:55:30,928 p=24811 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 11:55:31,338 p=24811 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:55:31,349 p=24811 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 11:55:31,373 p=24811 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 11:55:31,384 p=24811 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 11:55:32,179 p=24811 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 11:55:32,191 p=24811 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 11:55:32,659 p=24811 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:55:32,690 p=24811 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 11:55:32,696 p=24811 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:55:34,406 p=24811 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:55:34,648 p=24811 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:55:34,738 p=24811 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:55:34,753 p=24811 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:55:34,886 p=24811 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:55:35,872 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:35,956 p=24811 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 11:55:36,016 p=24811 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:55:36,042 p=24811 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:55:36,077 p=24811 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:55:36,102 p=24811 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:55:36,106 p=24811 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:55:36,120 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:36,130 p=24811 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 11:55:37,010 p=24811 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:55:37,011 p=24811 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:55:37,013 p=24811 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:55:37,026 p=24811 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:55:37,085 p=24811 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:55:37,355 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:37,533 p=24811 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 11:55:37,555 p=24811 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 11:55:38,754 p=24811 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 11:55:39,940 p=24811 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 11:55:40,754 p=24811 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 11:55:41,930 p=24811 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 11:55:43,106 p=24811 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 11:55:43,112 p=24811 u=ubuntu n=ansible | ...ignoring
2023-04-19 11:55:43,120 p=24811 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 11:55:43,960 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:43,969 p=24811 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 11:55:44,527 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:44,539 p=24811 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 11:55:45,061 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:45,072 p=24811 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 11:55:45,554 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:45,585 p=24811 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 11:55:45,606 p=24811 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 11:55:46,193 p=24811 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:55:46,204 p=24811 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 11:55:46,767 p=24811 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:55:46,790 p=24811 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 11:55:49,114 p=24811 u=ubuntu n=ansible | changed: [db01]
2023-04-19 11:55:49,133 p=24811 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 11:55:49,155 p=24811 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 11:55:50,162 p=24811 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:55:50,173 p=24811 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 11:55:50,642 p=24811 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:55:50,653 p=24811 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 11:55:50,950 p=24811 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:55:50,981 p=24811 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 11:55:51,004 p=24811 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 11:55:52,498 p=24811 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:55:52,509 p=24811 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 11:55:53,291 p=24811 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:55:53,299 p=24811 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 11:55:54,362 p=24811 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:55:54,374 p=24811 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 11:55:55,067 p=24811 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:55:55,078 p=24811 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 11:56:49,259 p=24811 u=ubuntu n=ansible | fatal: [rmq01]: FAILED! => {"changed": false, "msg": "Failed to update apt cache: W:GPG error: https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu bionic InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY F6609E60DC62814E, E:The repository 'https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu bionic InRelease' is not signed."}
2023-04-19 11:56:49,260 p=24811 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 11:56:49,260 p=24811 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:56:49,260 p=24811 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:56:49,260 p=24811 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 11:56:49,260 p=24811 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 11:56:49,260 p=24811 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:56:49,261 p=24811 u=ubuntu n=ansible | rmq01                      : ok=7    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 11:56:49,261 p=24811 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 11:59:27,870 p=26858 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 11:59:27,880 p=26858 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:59:29,137 p=26858 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:59:29,157 p=26858 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 11:59:31,821 p=26858 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 11:59:38,074 p=26858 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 11:59:44,354 p=26858 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 11:59:44,367 p=26858 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 11:59:45,275 p=26858 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:59:45,287 p=26858 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 11:59:45,306 p=26858 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 11:59:45,317 p=26858 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 11:59:45,730 p=26858 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:59:45,742 p=26858 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 11:59:45,767 p=26858 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 11:59:45,778 p=26858 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 11:59:46,582 p=26858 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 11:59:46,594 p=26858 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 11:59:47,080 p=26858 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 11:59:47,112 p=26858 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 11:59:47,118 p=26858 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 11:59:48,911 p=26858 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:59:49,059 p=26858 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:59:49,142 p=26858 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:59:49,156 p=26858 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:59:49,368 p=26858 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:59:50,684 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:59:50,765 p=26858 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 11:59:50,830 p=26858 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:59:50,866 p=26858 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:59:50,896 p=26858 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:59:50,927 p=26858 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:59:50,927 p=26858 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:59:50,942 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:59:50,954 p=26858 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 11:59:51,870 p=26858 u=ubuntu n=ansible | ok: [web01]
2023-04-19 11:59:51,871 p=26858 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 11:59:51,871 p=26858 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 11:59:51,878 p=26858 u=ubuntu n=ansible | ok: [app01]
2023-04-19 11:59:51,951 p=26858 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 11:59:52,228 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:59:52,384 p=26858 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 11:59:52,405 p=26858 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 11:59:53,610 p=26858 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 11:59:54,799 p=26858 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 11:59:55,604 p=26858 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 11:59:56,792 p=26858 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 11:59:57,979 p=26858 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 11:59:57,985 p=26858 u=ubuntu n=ansible | ...ignoring
2023-04-19 11:59:57,993 p=26858 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 11:59:58,827 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:59:58,839 p=26858 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 11:59:59,401 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:59:59,412 p=26858 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 11:59:59,930 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 11:59:59,942 p=26858 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:00:00,429 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:00:00,460 p=26858 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:00:00,481 p=26858 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:00:01,085 p=26858 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:00:01,096 p=26858 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:00:01,717 p=26858 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:00:01,741 p=26858 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:00:04,775 p=26858 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:00:04,792 p=26858 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:00:04,814 p=26858 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:00:05,864 p=26858 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:00:05,875 p=26858 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:00:06,354 p=26858 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:00:06,363 p=26858 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:00:06,674 p=26858 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:00:06,705 p=26858 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:00:06,728 p=26858 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:00:09,803 p=26858 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:00:09,814 p=26858 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:00:10,590 p=26858 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:00:10,602 p=26858 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:00:11,666 p=26858 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:00:11,678 p=26858 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:00:12,970 p=26858 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:00:12,981 p=26858 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:00:24,489 p=26858 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:00:24,501 p=26858 u=ubuntu n=ansible | TASK [Install Rabbit MQ] ***********************************************************************************************************************************************
2023-04-19 12:00:27,719 p=26858 u=ubuntu n=ansible | fatal: [rmq01]: FAILED! => {"cache_update_time": 1681905625, "cache_updated": true, "changed": false, "msg": "'/usr/bin/apt-get -y -o \"Dpkg::Options::=--force-confdef\" -o \"Dpkg::Options::=--force-confold\"       install 'rabbitmq-server=3.11.13-1'' failed: E: Unable to correct problems, you have held broken packages.\n", "rc": 100, "stderr": "E: Unable to correct problems, you have held broken packages.\n", "stderr_lines": ["E: Unable to correct problems, you have held broken packages."], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\nThe following information may help to resolve the situation:\n\nThe following packages have unmet dependencies:\n rabbitmq-server : Depends: erlang-base (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or\n                            erlang-base-hipe (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-crypto (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-eldap (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-inets (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-mnesia (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-os-mon (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-parsetools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-public-key (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-runtime-tools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-ssl (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-syntax-tools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-tools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-xmerl (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "Some packages could not be installed. This may mean that you have", "requested an impossible situation or if you are using the unstable", "distribution that some required packages have not yet been created", "or been moved out of Incoming.", "The following information may help to resolve the situation:", "", "The following packages have unmet dependencies:", " rabbitmq-server : Depends: erlang-base (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or", "                            erlang-base-hipe (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-crypto (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-eldap (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-inets (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-mnesia (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-os-mon (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-parsetools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-public-key (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-runtime-tools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-ssl (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-syntax-tools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-tools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-xmerl (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed"]}
2023-04-19 12:00:27,720 p=26858 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:00:27,721 p=26858 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:00:27,721 p=26858 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:00:27,721 p=26858 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:00:27,721 p=26858 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:00:27,721 p=26858 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:00:27,721 p=26858 u=ubuntu n=ansible | rmq01                      : ok=8    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 12:00:27,721 p=26858 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:04:09,525 p=28927 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:04:09,536 p=28927 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:04:10,814 p=28927 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:04:10,834 p=28927 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:04:13,464 p=28927 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:04:20,282 p=28927 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:04:26,079 p=28927 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:04:26,092 p=28927 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:04:26,951 p=28927 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:04:26,962 p=28927 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:04:26,981 p=28927 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:04:26,992 p=28927 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:04:27,398 p=28927 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:04:27,410 p=28927 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:04:27,434 p=28927 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:04:27,445 p=28927 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:04:28,246 p=28927 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:04:28,257 p=28927 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:04:28,739 p=28927 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:04:28,770 p=28927 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:04:28,777 p=28927 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:04:30,526 p=28927 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:04:30,713 p=28927 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:04:30,772 p=28927 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:04:30,817 p=28927 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:04:31,105 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:32,295 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:32,379 p=28927 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:04:32,444 p=28927 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:04:32,473 p=28927 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:04:32,498 p=28927 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:04:32,538 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:32,539 p=28927 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:04:32,552 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:32,563 p=28927 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:04:33,470 p=28927 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:04:33,471 p=28927 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:04:33,471 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:33,474 p=28927 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:04:33,539 p=28927 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:04:33,817 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:33,969 p=28927 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:04:33,991 p=28927 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:04:35,202 p=28927 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:04:36,395 p=28927 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:04:37,241 p=28927 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:04:38,438 p=28927 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:04:39,625 p=28927 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:04:39,629 p=28927 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:04:39,637 p=28927 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:04:40,475 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:40,486 p=28927 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:04:41,053 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:41,065 p=28927 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:04:41,577 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:41,589 p=28927 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:04:42,060 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:42,092 p=28927 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:04:42,113 p=28927 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:04:42,703 p=28927 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:04:42,711 p=28927 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:04:43,263 p=28927 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:04:43,286 p=28927 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:04:46,390 p=28927 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:04:46,409 p=28927 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:04:46,431 p=28927 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:04:47,443 p=28927 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:04:47,453 p=28927 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:04:47,918 p=28927 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:04:47,926 p=28927 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:04:48,227 p=28927 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:04:48,257 p=28927 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:04:48,279 p=28927 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:04:49,739 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:49,749 p=28927 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:04:50,531 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:50,543 p=28927 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:04:51,571 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:51,582 p=28927 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:04:52,428 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:52,439 p=28927 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:04:53,104 p=28927 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:04:53,116 p=28927 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:04:57,639 p=28927 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:04:57,650 p=28927 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:08:58,152 p=28927 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:08:58,160 p=28927 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:08:58,648 p=28927 u=ubuntu n=ansible | fatal: [rmq01]: FAILED! => {"changed": false, "msg": "Unsupported parameters for (apt) module: version. Supported parameters include: allow_change_held_packages, allow_downgrade, allow_unauthenticated, autoclean, autoremove, cache_valid_time, clean, deb, default_release, dpkg_options, fail_on_autoremove, force, force_apt_get, install_recommends, lock_timeout, only_upgrade, package, policy_rc_d, purge, state, update_cache, update_cache_retries, update_cache_retry_max_delay, upgrade (allow-downgrade, allow-downgrades, allow-unauthenticated, allow_downgrades, default-release, install-recommends, name, pkg, update-cache)."}
2023-04-19 12:08:58,650 p=28927 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:08:58,651 p=28927 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:08:58,651 p=28927 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:08:58,651 p=28927 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:08:58,651 p=28927 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:08:58,651 p=28927 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:08:58,651 p=28927 u=ubuntu n=ansible | rmq01                      : ok=10   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 12:08:58,651 p=28927 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:10:51,306 p=31005 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:10:51,317 p=31005 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:10:52,569 p=31005 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:10:52,593 p=31005 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:11:01,570 p=31005 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:11:08,657 p=31005 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:11:14,957 p=31005 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:11:14,968 p=31005 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:11:15,835 p=31005 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:11:15,843 p=31005 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:11:15,863 p=31005 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:11:15,874 p=31005 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:11:16,283 p=31005 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:11:16,295 p=31005 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:11:16,318 p=31005 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:11:16,329 p=31005 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:11:17,119 p=31005 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:11:17,132 p=31005 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:11:17,607 p=31005 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:11:17,639 p=31005 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:11:17,645 p=31005 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:11:19,234 p=31005 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:11:19,576 p=31005 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:11:19,634 p=31005 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:11:19,642 p=31005 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:11:20,598 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:21,005 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:21,091 p=31005 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:11:21,150 p=31005 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:11:21,179 p=31005 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:11:21,207 p=31005 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:11:21,242 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:21,243 p=31005 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:11:21,258 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:21,268 p=31005 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:11:22,178 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:22,182 p=31005 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:11:22,322 p=31005 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:11:22,338 p=31005 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:11:22,352 p=31005 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:11:22,619 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:22,774 p=31005 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:11:22,795 p=31005 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:11:24,044 p=31005 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:11:25,227 p=31005 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:11:26,056 p=31005 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:11:27,230 p=31005 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:11:28,430 p=31005 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:11:28,433 p=31005 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:11:28,441 p=31005 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:11:29,270 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:29,281 p=31005 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:11:29,829 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:29,841 p=31005 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:11:30,362 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:30,374 p=31005 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:11:30,850 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:30,881 p=31005 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:11:30,902 p=31005 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:11:31,496 p=31005 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:11:31,507 p=31005 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:11:32,062 p=31005 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:11:32,085 p=31005 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:11:34,974 p=31005 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:11:34,993 p=31005 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:11:35,014 p=31005 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:11:36,033 p=31005 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:11:36,044 p=31005 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:11:36,514 p=31005 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:11:36,522 p=31005 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:11:36,819 p=31005 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:11:36,846 p=31005 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:11:36,869 p=31005 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:11:38,375 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:38,387 p=31005 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:11:39,203 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:39,211 p=31005 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:11:40,270 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:40,279 p=31005 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:11:41,133 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:41,145 p=31005 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:11:41,820 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:41,832 p=31005 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:11:48,107 p=31005 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:11:48,116 p=31005 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:11:49,363 p=31005 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:11:49,371 p=31005 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:11:50,875 p=31005 u=ubuntu n=ansible | fatal: [rmq01]: FAILED! => {"cache_update_time": 1681906307, "cache_updated": false, "changed": false, "msg": "'/usr/bin/apt-get -y -o \"Dpkg::Options::=--force-confdef\" -o \"Dpkg::Options::=--force-confold\"       install 'rabbitmq-server=3.11.13-1'' failed: E: Unable to correct problems, you have held broken packages.\n", "rc": 100, "stderr": "E: Unable to correct problems, you have held broken packages.\n", "stderr_lines": ["E: Unable to correct problems, you have held broken packages."], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\nThe following information may help to resolve the situation:\n\nThe following packages have unmet dependencies:\n rabbitmq-server : Depends: erlang-base (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or\n                            erlang-base-hipe (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-crypto (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-eldap (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-inets (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-mnesia (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-os-mon (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-parsetools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-public-key (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-runtime-tools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-ssl (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-syntax-tools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-tools (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n                   Depends: erlang-xmerl (>= 1:25.0) or\n                            esl-erlang (>= 1:25.0) but it is not going to be installed\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "Some packages could not be installed. This may mean that you have", "requested an impossible situation or if you are using the unstable", "distribution that some required packages have not yet been created", "or been moved out of Incoming.", "The following information may help to resolve the situation:", "", "The following packages have unmet dependencies:", " rabbitmq-server : Depends: erlang-base (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or", "                            erlang-base-hipe (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-crypto (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-eldap (>= 1:25.0) but 1:22.2.7+dfsg-1 is to be installed or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-inets (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-mnesia (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-os-mon (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-parsetools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-public-key (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-runtime-tools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-ssl (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-syntax-tools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-tools (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed", "                   Depends: erlang-xmerl (>= 1:25.0) or", "                            esl-erlang (>= 1:25.0) but it is not going to be installed"]}
2023-04-19 12:11:50,877 p=31005 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:11:50,877 p=31005 u=ubuntu n=ansible | app01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:11:50,877 p=31005 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:11:50,877 p=31005 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:11:50,877 p=31005 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:11:50,877 p=31005 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:11:50,877 p=31005 u=ubuntu n=ansible | rmq01                      : ok=10   changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 12:11:50,878 p=31005 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:16:25,061 p=33083 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:16:25,072 p=33083 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:16:26,325 p=33083 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:16:26,345 p=33083 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:16:30,969 p=33083 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:16:34,788 p=33083 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:16:38,998 p=33083 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:16:39,010 p=33083 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:16:39,906 p=33083 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:16:39,918 p=33083 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:16:39,937 p=33083 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:16:39,949 p=33083 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:16:40,367 p=33083 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:16:40,380 p=33083 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:16:40,406 p=33083 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:16:40,417 p=33083 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:16:41,214 p=33083 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:16:41,224 p=33083 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:16:41,697 p=33083 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:16:41,728 p=33083 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:16:41,734 p=33083 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:16:43,510 p=33083 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:16:43,731 p=33083 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:16:43,788 p=33083 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:16:43,812 p=33083 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:16:43,933 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:16:45,335 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:45,419 p=33083 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:16:45,486 p=33083 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:16:45,521 p=33083 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:16:45,550 p=33083 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:16:45,582 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:16:45,587 p=33083 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:16:45,599 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:45,610 p=33083 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:16:46,531 p=33083 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:16:46,532 p=33083 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:16:46,542 p=33083 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:16:46,543 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:16:46,606 p=33083 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:16:46,881 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:47,037 p=33083 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:16:47,059 p=33083 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:16:48,290 p=33083 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:16:49,499 p=33083 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:16:50,356 p=33083 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:16:51,589 p=33083 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:16:52,787 p=33083 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:16:52,792 p=33083 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:16:52,800 p=33083 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:16:53,651 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:53,660 p=33083 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:16:54,212 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:54,223 p=33083 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:16:54,738 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:54,746 p=33083 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:16:55,223 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:55,253 p=33083 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:16:55,274 p=33083 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:16:55,862 p=33083 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:16:55,873 p=33083 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:16:56,431 p=33083 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:16:56,451 p=33083 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:16:59,586 p=33083 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:16:59,602 p=33083 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:16:59,624 p=33083 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:17:00,659 p=33083 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:17:00,669 p=33083 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:17:01,139 p=33083 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:17:01,149 p=33083 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:17:01,452 p=33083 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:17:01,483 p=33083 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:17:01,508 p=33083 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:17:09,407 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:17:09,415 p=33083 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:17:10,215 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:17:10,225 p=33083 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:17:12,842 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:17:12,850 p=33083 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:17:13,720 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:17:13,731 p=33083 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:17:14,401 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:17:14,413 p=33083 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:17:23,790 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:17:23,799 p=33083 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:17:54,831 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:17:54,840 p=33083 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:18:07,982 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:18:07,993 p=33083 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 12:18:08,490 p=33083 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:18:08,502 p=33083 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 12:18:09,243 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:18:09,252 p=33083 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 12:18:15,919 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:18:15,931 p=33083 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 12:18:24,403 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:18:24,424 p=33083 u=ubuntu n=ansible | RUNNING HANDLER [Restart RMQ] ******************************************************************************************************************************************
2023-04-19 12:18:38,477 p=33083 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:18:38,494 p=33083 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 12:18:38,506 p=33083 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:18:40,111 p=33083 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:18:40,131 p=33083 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 12:20:40,911 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:40,921 p=33083 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 12:20:49,878 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:49,890 p=33083 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 12:20:50,377 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:50,388 p=33083 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 12:20:50,983 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:50,991 p=33083 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 12:20:51,303 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:51,313 p=33083 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 12:20:52,583 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:52,594 p=33083 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:20:52,619 p=33083 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 12:20:52,642 p=33083 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 12:20:53,823 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:53,831 p=33083 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 12:20:54,183 p=33083 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:20:54,192 p=33083 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 12:20:54,261 p=33083 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-04-19 12:20:54,261 p=33083 u=ubuntu n=ansible | fatal: [app01]: FAILED! => {"changed": false, "msg": "Could not find or access 'templates/tomcat8-ubuntu-svcfile.j2'\nSearched in:\n\t/home/ubuntu/ansible_testing/provision-stack/templates/templates/tomcat8-ubuntu-svcfile.j2\n\t/home/ubuntu/ansible_testing/provision-stack/templates/tomcat8-ubuntu-svcfile.j2\n\t/home/ubuntu/ansible_testing/provision-stack/templates/templates/tomcat8-ubuntu-svcfile.j2\n\t/home/ubuntu/ansible_testing/provision-stack/templates/tomcat8-ubuntu-svcfile.j2 on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-04-19 12:20:54,263 p=33083 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:20:54,263 p=33083 u=ubuntu n=ansible | app01                      : ok=13   changed=8    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 12:20:54,263 p=33083 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:20:54,263 p=33083 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:20:54,263 p=33083 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:20:54,263 p=33083 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:20:54,263 p=33083 u=ubuntu n=ansible | rmq01                      : ok=16   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:20:54,264 p=33083 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:37:43,007 p=35327 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:37:43,017 p=35327 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:37:44,265 p=35327 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:37:44,286 p=35327 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:37:50,546 p=35327 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:37:53,073 p=35327 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:37:55,618 p=35327 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:37:55,633 p=35327 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:37:56,501 p=35327 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:37:56,513 p=35327 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:37:56,532 p=35327 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:37:56,544 p=35327 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:37:56,966 p=35327 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:37:56,978 p=35327 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:37:57,004 p=35327 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:37:57,015 p=35327 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:37:58,259 p=35327 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:37:58,270 p=35327 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:37:58,752 p=35327 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:37:58,783 p=35327 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:37:58,789 p=35327 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:38:00,434 p=35327 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:38:00,691 p=35327 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:38:00,757 p=35327 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:38:01,075 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:38:01,291 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:02,251 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:02,336 p=35327 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:38:02,394 p=35327 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:38:02,426 p=35327 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:38:02,458 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:38:02,486 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:02,492 p=35327 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:38:02,507 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:02,518 p=35327 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:38:03,422 p=35327 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:38:03,423 p=35327 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:38:03,423 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:38:03,434 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:03,505 p=35327 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:38:03,779 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:03,934 p=35327 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:38:03,956 p=35327 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:38:05,219 p=35327 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:38:06,456 p=35327 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:38:07,305 p=35327 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:38:08,499 p=35327 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:38:09,730 p=35327 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:38:09,735 p=35327 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:38:09,743 p=35327 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:38:10,551 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:10,563 p=35327 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:38:11,119 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:11,131 p=35327 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:38:11,654 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:11,665 p=35327 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:38:12,148 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:12,179 p=35327 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:38:12,200 p=35327 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:38:12,789 p=35327 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:38:12,800 p=35327 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:38:13,355 p=35327 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:38:13,375 p=35327 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:38:16,335 p=35327 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:38:16,352 p=35327 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:38:16,374 p=35327 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:38:17,364 p=35327 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:38:17,375 p=35327 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:38:17,839 p=35327 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:38:17,848 p=35327 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:38:18,147 p=35327 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:38:18,178 p=35327 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:38:18,202 p=35327 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:38:31,273 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:31,284 p=35327 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:38:32,313 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:32,325 p=35327 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:38:33,457 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:33,466 p=35327 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:38:34,313 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:34,325 p=35327 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:38:35,004 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:35,016 p=35327 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:38:39,439 p=35327 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:38:39,450 p=35327 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:38:40,821 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:40,833 p=35327 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:38:41,982 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:41,993 p=35327 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 12:38:42,467 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:42,475 p=35327 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 12:38:43,228 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:43,240 p=35327 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 12:38:47,470 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:47,482 p=35327 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 12:38:50,970 p=35327 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:38:51,003 p=35327 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 12:38:51,015 p=35327 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:38:51,980 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:38:52,000 p=35327 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 12:39:07,198 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:39:07,209 p=35327 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 12:39:08,246 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:39:08,258 p=35327 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 12:39:08,725 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:39:08,737 p=35327 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 12:39:09,283 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:39:09,294 p=35327 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 12:39:09,615 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:39:09,628 p=35327 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 12:39:10,724 p=35327 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:39:10,733 p=35327 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:39:10,759 p=35327 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 12:39:10,779 p=35327 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 12:39:11,311 p=35327 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:39:11,322 p=35327 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 12:39:11,677 p=35327 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:39:11,689 p=35327 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 12:39:11,757 p=35327 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-04-19 12:39:11,758 p=35327 u=ubuntu n=ansible | fatal: [app01]: FAILED! => {"changed": false, "msg": "Could not find or access 'templates/tomcat8-ubuntu-svcfile.j2'\nSearched in:\n\t/home/ubuntu/ansible_testing/provision-stack/templates/templates/tomcat8-ubuntu-svcfile.j2\n\t/home/ubuntu/ansible_testing/provision-stack/templates/tomcat8-ubuntu-svcfile.j2\n\t/home/ubuntu/ansible_testing/provision-stack/templates/templates/tomcat8-ubuntu-svcfile.j2\n\t/home/ubuntu/ansible_testing/provision-stack/templates/tomcat8-ubuntu-svcfile.j2 on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-04-19 12:39:11,759 p=35327 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:39:11,759 p=35327 u=ubuntu n=ansible | app01                      : ok=13   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 12:39:11,759 p=35327 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:39:11,760 p=35327 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:39:11,760 p=35327 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:39:11,760 p=35327 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:39:11,760 p=35327 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:39:11,760 p=35327 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:41:08,763 p=37579 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:41:08,776 p=37579 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:41:10,016 p=37579 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:41:10,040 p=37579 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:41:15,826 p=37579 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:41:20,995 p=37579 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:41:28,555 p=37579 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:41:28,566 p=37579 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:41:29,414 p=37579 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:41:29,426 p=37579 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:41:29,445 p=37579 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:41:29,455 p=37579 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:41:29,863 p=37579 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:41:29,874 p=37579 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:41:29,898 p=37579 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:41:29,909 p=37579 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:41:30,694 p=37579 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:41:30,705 p=37579 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:41:31,177 p=37579 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:41:31,207 p=37579 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:41:31,213 p=37579 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:41:32,839 p=37579 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:41:33,112 p=37579 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:41:33,190 p=37579 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:41:33,324 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:41:33,447 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:41:34,635 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:34,718 p=37579 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:41:34,782 p=37579 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:41:34,814 p=37579 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:41:34,845 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:41:34,874 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:41:34,876 p=37579 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:41:34,890 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:34,901 p=37579 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:41:35,834 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:41:35,835 p=37579 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:41:35,835 p=37579 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:41:35,839 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:41:35,904 p=37579 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:41:36,185 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:36,347 p=37579 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:41:36,391 p=37579 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:41:37,666 p=37579 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:41:38,899 p=37579 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:41:39,762 p=37579 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:41:41,010 p=37579 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:41:42,305 p=37579 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:41:42,309 p=37579 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:41:42,316 p=37579 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:41:43,167 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:43,175 p=37579 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:41:43,735 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:43,746 p=37579 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:41:44,260 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:44,271 p=37579 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:41:44,757 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:44,787 p=37579 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:41:44,809 p=37579 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:41:45,409 p=37579 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:41:45,419 p=37579 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:41:46,007 p=37579 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:41:46,029 p=37579 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:41:48,951 p=37579 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:41:48,966 p=37579 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:41:48,988 p=37579 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:41:49,998 p=37579 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:41:50,009 p=37579 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:41:50,483 p=37579 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:41:50,491 p=37579 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:41:50,794 p=37579 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:41:50,825 p=37579 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:41:50,849 p=37579 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:41:56,839 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:41:56,849 p=37579 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:41:57,631 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:41:57,640 p=37579 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:41:58,722 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:41:58,733 p=37579 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:41:59,571 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:41:59,582 p=37579 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:42:00,276 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:42:00,288 p=37579 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:42:02,792 p=37579 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:42:02,803 p=37579 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:42:04,141 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:42:04,152 p=37579 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:42:05,299 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:42:05,310 p=37579 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 12:42:05,782 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:42:05,792 p=37579 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 12:42:06,365 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:42:06,376 p=37579 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 12:42:10,515 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:42:10,526 p=37579 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 12:42:13,930 p=37579 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:42:13,959 p=37579 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 12:42:13,972 p=37579 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:42:14,987 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:42:15,006 p=37579 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 12:42:16,794 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:42:16,805 p=37579 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 12:42:17,683 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:42:17,694 p=37579 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 12:42:18,157 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:42:18,168 p=37579 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 12:42:18,707 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:42:18,716 p=37579 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 12:42:19,025 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:42:19,036 p=37579 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 12:42:20,128 p=37579 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:42:20,138 p=37579 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:42:20,163 p=37579 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 12:42:20,183 p=37579 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 12:42:20,708 p=37579 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:42:20,719 p=37579 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 12:42:21,077 p=37579 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:42:21,086 p=37579 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 12:42:21,558 p=37579 u=ubuntu n=ansible | fatal: [app01]: FAILED! => {"changed": false, "msg": "Source /home/ubuntu/.ansible/tmp/ansible-local-37579sy1zi5b7/tmpy5ax5iow/tomcat8-ubuntu-svcfile.j2 not found"}
2023-04-19 12:42:21,559 p=37579 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:42:21,560 p=37579 u=ubuntu n=ansible | app01                      : ok=13   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 12:42:21,560 p=37579 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:42:21,560 p=37579 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:42:21,560 p=37579 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:42:21,560 p=37579 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:42:21,560 p=37579 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:42:21,560 p=37579 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:44:00,736 p=39793 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:44:00,747 p=39793 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:44:02,037 p=39793 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:44:02,058 p=39793 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:44:04,829 p=39793 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:44:07,390 p=39793 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:44:13,294 p=39793 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:44:13,306 p=39793 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:44:14,220 p=39793 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:44:14,232 p=39793 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:44:14,251 p=39793 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:44:14,262 p=39793 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:44:14,671 p=39793 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:44:14,682 p=39793 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:44:14,706 p=39793 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:44:14,717 p=39793 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:44:15,511 p=39793 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:44:15,522 p=39793 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:44:15,996 p=39793 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:44:16,027 p=39793 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:44:16,033 p=39793 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:44:17,770 p=39793 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:44:17,980 p=39793 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:44:18,099 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:44:18,109 p=39793 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:44:18,231 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:19,563 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:19,646 p=39793 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:44:19,702 p=39793 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:44:19,741 p=39793 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:44:19,770 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:44:19,798 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:19,799 p=39793 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:44:19,811 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:19,822 p=39793 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:44:20,695 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:44:20,696 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:20,703 p=39793 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:44:20,706 p=39793 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:44:20,759 p=39793 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:44:21,044 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:21,196 p=39793 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:44:21,218 p=39793 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:44:22,458 p=39793 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:44:23,716 p=39793 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:44:24,564 p=39793 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:44:25,772 p=39793 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:44:26,970 p=39793 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:44:26,975 p=39793 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:44:26,982 p=39793 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:44:27,827 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:27,835 p=39793 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:44:28,393 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:28,404 p=39793 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:44:28,919 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:28,930 p=39793 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:44:29,404 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:29,435 p=39793 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:44:29,456 p=39793 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:44:30,044 p=39793 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:44:30,055 p=39793 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:44:30,645 p=39793 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:44:30,668 p=39793 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:44:33,450 p=39793 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:44:33,469 p=39793 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:44:33,491 p=39793 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:44:34,500 p=39793 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:44:34,511 p=39793 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:44:34,979 p=39793 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:44:34,989 p=39793 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:44:35,291 p=39793 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:44:35,321 p=39793 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:44:35,345 p=39793 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:44:38,562 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:38,573 p=39793 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:44:39,357 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:39,369 p=39793 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:44:40,495 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:40,503 p=39793 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:44:41,336 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:41,347 p=39793 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:44:42,023 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:42,035 p=39793 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:44:48,700 p=39793 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:44:48,711 p=39793 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:44:50,026 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:50,037 p=39793 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:44:51,156 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:51,167 p=39793 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 12:44:51,635 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:51,643 p=39793 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 12:44:52,188 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:52,199 p=39793 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 12:44:56,332 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:56,344 p=39793 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 12:44:59,767 p=39793 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:44:59,827 p=39793 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 12:44:59,839 p=39793 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:45:00,841 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:45:00,861 p=39793 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 12:45:06,089 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:45:06,100 p=39793 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 12:45:06,984 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:45:06,995 p=39793 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 12:45:07,451 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:45:07,463 p=39793 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 12:45:08,001 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:45:08,013 p=39793 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 12:45:08,319 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:45:08,331 p=39793 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 12:45:09,432 p=39793 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:45:09,441 p=39793 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:45:09,467 p=39793 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 12:45:09,486 p=39793 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 12:45:10,011 p=39793 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:45:10,022 p=39793 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 12:45:10,384 p=39793 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:45:10,396 p=39793 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 12:45:10,878 p=39793 u=ubuntu n=ansible | fatal: [app01]: FAILED! => {"changed": false, "msg": "Source /home/ubuntu/.ansible/tmp/ansible-local-39793en4lvsqq/tmplosgxmvk/tomcat8-ubuntu-svcfile.j2 not found"}
2023-04-19 12:45:10,882 p=39793 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:45:10,883 p=39793 u=ubuntu n=ansible | app01                      : ok=13   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2023-04-19 12:45:10,883 p=39793 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:45:10,883 p=39793 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:45:10,883 p=39793 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:45:10,883 p=39793 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:45:10,883 p=39793 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:45:10,883 p=39793 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:47:34,114 p=42025 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:47:34,124 p=42025 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:47:35,397 p=42025 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:47:35,419 p=42025 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:47:40,403 p=42025 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:47:45,959 p=42025 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:47:50,684 p=42025 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:47:50,696 p=42025 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:47:51,694 p=42025 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:47:51,706 p=42025 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:47:51,724 p=42025 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:47:51,735 p=42025 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:47:52,139 p=42025 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:47:52,149 p=42025 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:47:52,173 p=42025 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:47:52,184 p=42025 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:47:52,971 p=42025 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:47:52,982 p=42025 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:47:53,457 p=42025 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:47:53,488 p=42025 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:47:53,493 p=42025 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:47:55,220 p=42025 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:47:55,501 p=42025 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:47:55,572 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:47:55,580 p=42025 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:47:55,695 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:47:57,027 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:47:57,113 p=42025 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:47:57,182 p=42025 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:47:57,211 p=42025 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:47:57,237 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:47:57,274 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:47:57,275 p=42025 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:47:57,290 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:47:57,301 p=42025 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:47:58,218 p=42025 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:47:58,219 p=42025 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:47:58,219 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:47:58,227 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:47:58,293 p=42025 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:47:58,569 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:47:58,721 p=42025 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:47:58,743 p=42025 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:47:59,966 p=42025 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:48:01,224 p=42025 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:48:02,123 p=42025 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:48:03,361 p=42025 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:48:04,586 p=42025 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:48:04,591 p=42025 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:48:04,599 p=42025 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:48:05,443 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:48:05,451 p=42025 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:48:06,015 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:48:06,027 p=42025 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:48:06,555 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:48:06,567 p=42025 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:48:07,059 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:48:07,087 p=42025 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:48:07,108 p=42025 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:48:07,712 p=42025 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:48:07,723 p=42025 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:48:08,278 p=42025 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:48:08,298 p=42025 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:48:10,950 p=42025 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:48:10,965 p=42025 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:48:10,987 p=42025 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:48:12,086 p=42025 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:48:12,096 p=42025 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:48:12,559 p=42025 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:48:12,568 p=42025 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:48:12,867 p=42025 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:48:12,897 p=42025 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:48:12,921 p=42025 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:48:16,180 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:16,191 p=42025 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:48:16,978 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:16,987 p=42025 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:48:18,075 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:18,086 p=42025 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:48:18,923 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:18,934 p=42025 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:48:19,602 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:19,613 p=42025 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:48:22,095 p=42025 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:48:22,106 p=42025 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:48:23,382 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:23,393 p=42025 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:48:24,496 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:24,508 p=42025 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 12:48:24,987 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:24,998 p=42025 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 12:48:25,544 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:25,555 p=42025 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 12:48:29,672 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:29,696 p=42025 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 12:48:33,268 p=42025 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:48:33,336 p=42025 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 12:48:33,361 p=42025 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:48:34,455 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:34,495 p=42025 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 12:48:36,384 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:36,408 p=42025 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 12:48:37,709 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:37,745 p=42025 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 12:48:38,468 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:38,492 p=42025 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 12:48:39,327 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:39,351 p=42025 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 12:48:39,736 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:39,758 p=42025 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 12:48:41,195 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:41,212 p=42025 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:48:41,263 p=42025 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 12:48:41,306 p=42025 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 12:48:42,099 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:42,109 p=42025 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 12:48:42,483 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:42,506 p=42025 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 12:48:43,470 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:43,481 p=42025 u=ubuntu n=ansible | TASK [just force systemd to reread configs (2.4 and above)] ************************************************************************************************************
2023-04-19 12:48:44,295 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:44,315 p=42025 u=ubuntu n=ansible | TASK [Start & Enable tomcat SVC] ***************************************************************************************************************************************
2023-04-19 12:48:45,236 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:45,251 p=42025 u=ubuntu n=ansible | TASK [stat] ************************************************************************************************************************************************************
2023-04-19 12:48:45,736 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:45,761 p=42025 u=ubuntu n=ansible | TASK [Stop tomcat8 svc] ************************************************************************************************************************************************
2023-04-19 12:48:47,355 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:47,363 p=42025 u=ubuntu n=ansible | TASK [Archive ROOT dir with timestamp] *********************************************************************************************************************************
2023-04-19 12:48:47,865 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:47,877 p=42025 u=ubuntu n=ansible | TASK [copy ROOT dir with old_ROOT name] ********************************************************************************************************************************
2023-04-19 12:48:48,342 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:48,354 p=42025 u=ubuntu n=ansible | TASK [Delete current artifact] *****************************************************************************************************************************************
2023-04-19 12:48:48,679 p=42025 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT)
2023-04-19 12:48:48,970 p=42025 u=ubuntu n=ansible | ok: [app01] => (item=/usr/local/tomcat8/webapps/ROOT.war)
2023-04-19 12:48:48,983 p=42025 u=ubuntu n=ansible | TASK [Deploy vprofile artifact] ****************************************************************************************************************************************
2023-04-19 12:48:49,053 p=42025 u=ubuntu n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2023-04-19 12:48:49,053 p=42025 u=ubuntu n=ansible | fatal: [app01]: FAILED! => {"changed": false, "msg": "Could not find or access 'files/ROOT.war'\nSearched in:\n\t/home/ubuntu/ansible_testing/provision-stack/files/files/ROOT.war\n\t/home/ubuntu/ansible_testing/provision-stack/files/ROOT.war\n\t/home/ubuntu/ansible_testing/provision-stack/files/files/ROOT.war\n\t/home/ubuntu/ansible_testing/provision-stack/files/ROOT.war on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2023-04-19 12:48:49,065 p=42025 u=ubuntu n=ansible | TASK [shell] ***********************************************************************************************************************************************************
2023-04-19 12:48:49,365 p=42025 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:48:49,376 p=42025 u=ubuntu n=ansible | TASK [Start tomcat8 svc] ***********************************************************************************************************************************************
2023-04-19 12:48:49,393 p=42025 u=ubuntu n=ansible | skipping: [app01]
2023-04-19 12:48:49,405 p=42025 u=ubuntu n=ansible | TASK [Wait until ROOT.war is extracted to ROOT directory] **************************************************************************************************************
2023-04-19 12:48:49,867 p=42025 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:48:49,878 p=42025 u=ubuntu n=ansible | TASK [Deploy web configuration file] ***********************************************************************************************************************************
2023-04-19 12:48:50,450 p=42025 u=ubuntu n=ansible | fatal: [app01]: FAILED! => {"changed": false, "checksum": "d1c60d55ea8437d343565eedd2a4a6ae8824dafe", "msg": "Destination directory /usr/local/tomcat8/webapps/ROOT/WEB-INF/classes does not exist"}
2023-04-19 12:48:50,454 p=42025 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:48:50,454 p=42025 u=ubuntu n=ansible | app01                      : ok=23   changed=9    unreachable=0    failed=1    skipped=1    rescued=1    ignored=0   
2023-04-19 12:48:50,454 p=42025 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:48:50,454 p=42025 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:48:50,455 p=42025 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:48:50,455 p=42025 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:48:50,455 p=42025 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:48:50,455 p=42025 u=ubuntu n=ansible | web01                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:51:57,530 p=44722 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 12:51:57,544 p=44722 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:51:59,507 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:51:59,528 p=44722 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 12:52:01,518 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:01,526 p=44722 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 12:52:02,411 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:02,420 p=44722 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 12:52:02,879 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:02,887 p=44722 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 12:52:03,423 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:03,432 p=44722 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 12:52:03,899 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:03,907 p=44722 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 12:52:05,159 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:05,169 p=44722 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:52:05,195 p=44722 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 12:52:05,215 p=44722 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 12:52:05,731 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:05,743 p=44722 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 12:52:06,099 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:06,110 p=44722 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 12:52:06,700 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:06,712 p=44722 u=ubuntu n=ansible | TASK [just force systemd to reread configs (2.4 and above)] ************************************************************************************************************
2023-04-19 12:52:07,767 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:07,779 p=44722 u=ubuntu n=ansible | TASK [Start & Enable tomcat SVC] ***************************************************************************************************************************************
2023-04-19 12:52:08,339 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:08,348 p=44722 u=ubuntu n=ansible | TASK [stat] ************************************************************************************************************************************************************
2023-04-19 12:52:08,838 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:08,848 p=44722 u=ubuntu n=ansible | TASK [Stop tomcat8 svc] ************************************************************************************************************************************************
2023-04-19 12:52:10,374 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:10,382 p=44722 u=ubuntu n=ansible | TASK [Archive ROOT dir with timestamp] *********************************************************************************************************************************
2023-04-19 12:52:10,867 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:10,875 p=44722 u=ubuntu n=ansible | TASK [copy ROOT dir with old_ROOT name] ********************************************************************************************************************************
2023-04-19 12:52:11,328 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:11,340 p=44722 u=ubuntu n=ansible | TASK [Delete current artifact] *****************************************************************************************************************************************
2023-04-19 12:52:11,686 p=44722 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT)
2023-04-19 12:52:11,975 p=44722 u=ubuntu n=ansible | ok: [app01] => (item=/usr/local/tomcat8/webapps/ROOT.war)
2023-04-19 12:52:11,986 p=44722 u=ubuntu n=ansible | TASK [Deploy vprofile artifact] ****************************************************************************************************************************************
2023-04-19 12:52:15,263 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:15,272 p=44722 u=ubuntu n=ansible | TASK [Start tomcat8 svc] ***********************************************************************************************************************************************
2023-04-19 12:52:15,799 p=44722 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:52:15,807 p=44722 u=ubuntu n=ansible | TASK [Wait until ROOT.war is extracted to ROOT directory] **************************************************************************************************************
2023-04-19 12:52:18,435 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:18,446 p=44722 u=ubuntu n=ansible | TASK [Deploy web configuration file] ***********************************************************************************************************************************
2023-04-19 12:52:19,371 p=44722 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:19,401 p=44722 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:52:19,401 p=44722 u=ubuntu n=ansible | app01                      : ok=22   changed=9    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:52:27,242 p=44949 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 12:52:27,253 p=44949 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:52:28,541 p=44949 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:52:28,562 p=44949 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 12:52:34,229 p=44949 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 12:52:39,710 p=44949 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 12:52:43,816 p=44949 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 12:52:43,828 p=44949 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 12:52:44,689 p=44949 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:52:44,701 p=44949 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 12:52:44,721 p=44949 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 12:52:44,732 p=44949 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 12:52:45,149 p=44949 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:52:45,161 p=44949 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:52:45,186 p=44949 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 12:52:45,197 p=44949 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 12:52:46,006 p=44949 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 12:52:46,017 p=44949 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 12:52:46,504 p=44949 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 12:52:46,537 p=44949 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 12:52:46,543 p=44949 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:52:47,908 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:48,351 p=44949 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:52:48,475 p=44949 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:52:48,565 p=44949 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:52:48,751 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:52:49,854 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:52:49,943 p=44949 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 12:52:50,010 p=44949 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:52:50,049 p=44949 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:52:50,074 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:50,114 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:52:50,115 p=44949 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:52:50,129 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:52:50,141 p=44949 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 12:52:51,062 p=44949 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:52:51,063 p=44949 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:52:51,075 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:52:51,075 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:52:51,173 p=44949 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 12:52:51,444 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:52:51,626 p=44949 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 12:52:51,648 p=44949 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 12:52:52,958 p=44949 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 12:52:54,251 p=44949 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 12:52:55,148 p=44949 u=ubuntu n=ansible | failed: [db01] (item=python-mysqldb) => {"ansible_loop_var": "item", "changed": false, "item": "python-mysqldb", "msg": "No package matching 'python-mysqldb' is available"}
2023-04-19 12:52:56,447 p=44949 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 12:52:57,733 p=44949 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 12:52:57,737 p=44949 u=ubuntu n=ansible | ...ignoring
2023-04-19 12:52:57,745 p=44949 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 12:52:58,603 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:52:58,611 p=44949 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 12:52:59,179 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:52:59,191 p=44949 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 12:52:59,712 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:52:59,724 p=44949 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 12:53:00,219 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:53:00,248 p=44949 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 12:53:00,269 p=44949 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 12:53:00,865 p=44949 u=ubuntu n=ansible | ok: [db01]
2023-04-19 12:53:00,876 p=44949 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 12:53:01,459 p=44949 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:53:01,480 p=44949 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 12:53:04,583 p=44949 u=ubuntu n=ansible | changed: [db01]
2023-04-19 12:53:04,600 p=44949 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 12:53:04,621 p=44949 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 12:53:05,666 p=44949 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:53:05,677 p=44949 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 12:53:06,151 p=44949 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:53:06,159 p=44949 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 12:53:06,464 p=44949 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 12:53:06,495 p=44949 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 12:53:06,519 p=44949 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 12:53:09,768 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:09,780 p=44949 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 12:53:10,574 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:10,587 p=44949 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 12:53:11,694 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:11,706 p=44949 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 12:53:12,561 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:12,573 p=44949 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 12:53:13,241 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:13,253 p=44949 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 12:53:16,158 p=44949 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 12:53:16,170 p=44949 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 12:53:17,452 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:17,463 p=44949 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 12:53:18,569 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:18,580 p=44949 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 12:53:19,062 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:19,070 p=44949 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 12:53:19,615 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:19,627 p=44949 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 12:53:23,731 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:23,744 p=44949 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 12:53:27,210 p=44949 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 12:53:27,243 p=44949 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 12:53:27,256 p=44949 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 12:53:28,221 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:28,272 p=44949 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 12:53:35,422 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:35,431 p=44949 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 12:53:36,311 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:36,319 p=44949 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 12:53:36,774 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:36,786 p=44949 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 12:53:37,327 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:37,339 p=44949 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 12:53:37,646 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:37,657 p=44949 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 12:53:38,747 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:38,759 p=44949 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 12:53:38,785 p=44949 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 12:53:38,804 p=44949 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 12:53:39,339 p=44949 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:53:39,351 p=44949 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 12:53:39,719 p=44949 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:53:39,730 p=44949 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 12:53:40,295 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:40,307 p=44949 u=ubuntu n=ansible | TASK [just force systemd to reread configs (2.4 and above)] ************************************************************************************************************
2023-04-19 12:53:41,056 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:41,067 p=44949 u=ubuntu n=ansible | TASK [Start & Enable tomcat SVC] ***************************************************************************************************************************************
2023-04-19 12:53:41,535 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:41,543 p=44949 u=ubuntu n=ansible | TASK [stat] ************************************************************************************************************************************************************
2023-04-19 12:53:41,842 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:41,853 p=44949 u=ubuntu n=ansible | TASK [Stop tomcat8 svc] ************************************************************************************************************************************************
2023-04-19 12:53:43,291 p=44949 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:53:43,299 p=44949 u=ubuntu n=ansible | TASK [Archive ROOT dir with timestamp] *********************************************************************************************************************************
2023-04-19 12:53:46,530 p=44949 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:53:46,539 p=44949 u=ubuntu n=ansible | TASK [copy ROOT dir with old_ROOT name] ********************************************************************************************************************************
2023-04-19 12:53:47,062 p=44949 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:53:47,074 p=44949 u=ubuntu n=ansible | TASK [Delete current artifact] *****************************************************************************************************************************************
2023-04-19 12:53:47,414 p=44949 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT)
2023-04-19 12:53:47,710 p=44949 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT.war)
2023-04-19 12:53:47,722 p=44949 u=ubuntu n=ansible | TASK [Deploy vprofile artifact] ****************************************************************************************************************************************
2023-04-19 12:53:51,043 p=44949 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:53:51,051 p=44949 u=ubuntu n=ansible | TASK [Start tomcat8 svc] ***********************************************************************************************************************************************
2023-04-19 12:53:51,579 p=44949 u=ubuntu n=ansible | changed: [app01]
2023-04-19 12:53:51,588 p=44949 u=ubuntu n=ansible | TASK [Wait until ROOT.war is extracted to ROOT directory] **************************************************************************************************************
2023-04-19 12:53:54,227 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:54,238 p=44949 u=ubuntu n=ansible | TASK [Deploy web configuration file] ***********************************************************************************************************************************
2023-04-19 12:53:55,162 p=44949 u=ubuntu n=ansible | ok: [app01]
2023-04-19 12:53:55,190 p=44949 u=ubuntu n=ansible | PLAY [Setup Nginx svc] *************************************************************************************************************************************************
2023-04-19 12:53:55,212 p=44949 u=ubuntu n=ansible | TASK [Install nginx] ***************************************************************************************************************************************************
2023-04-19 12:55:07,074 p=44949 u=ubuntu n=ansible | changed: [web01]
2023-04-19 12:55:07,085 p=44949 u=ubuntu n=ansible | TASK [Start & ENable Nginx] ********************************************************************************************************************************************
2023-04-19 12:55:07,619 p=44949 u=ubuntu n=ansible | ok: [web01]
2023-04-19 12:55:07,627 p=44949 u=ubuntu n=ansible | TASK [Disable Nginx default website] ***********************************************************************************************************************************
2023-04-19 12:55:07,939 p=44949 u=ubuntu n=ansible | changed: [web01]
2023-04-19 12:55:07,949 p=44949 u=ubuntu n=ansible | TASK [Deploy web config file] ******************************************************************************************************************************************
2023-04-19 12:55:08,539 p=44949 u=ubuntu n=ansible | changed: [web01]
2023-04-19 12:55:08,549 p=44949 u=ubuntu n=ansible | TASK [Enable vproapp website] ******************************************************************************************************************************************
2023-04-19 12:55:08,854 p=44949 u=ubuntu n=ansible | changed: [web01]
2023-04-19 12:55:08,877 p=44949 u=ubuntu n=ansible | RUNNING HANDLER [Restart Nginx] ****************************************************************************************************************************************
2023-04-19 12:55:09,438 p=44949 u=ubuntu n=ansible | changed: [web01]
2023-04-19 12:55:09,455 p=44949 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 12:55:09,455 p=44949 u=ubuntu n=ansible | app01                      : ok=25   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:55:09,455 p=44949 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:55:09,455 p=44949 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2023-04-19 12:55:09,456 p=44949 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 12:55:09,456 p=44949 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:55:09,456 p=44949 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 12:55:09,456 p=44949 u=ubuntu n=ansible | web01                      : ok=9    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:27:31,915 p=47426 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 13:27:31,925 p=47426 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:27:33,191 p=47426 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:27:33,212 p=47426 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 13:27:43,225 p=47426 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 13:27:48,256 p=47426 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 13:27:53,175 p=47426 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 13:27:53,188 p=47426 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 13:27:54,133 p=47426 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:27:54,146 p=47426 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 13:27:54,165 p=47426 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 13:27:54,177 p=47426 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 13:27:54,586 p=47426 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:27:54,599 p=47426 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 13:27:54,624 p=47426 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 13:27:54,635 p=47426 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 13:27:55,499 p=47426 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 13:27:55,512 p=47426 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 13:27:55,983 p=47426 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:27:56,012 p=47426 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 13:27:56,017 p=47426 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:27:57,739 p=47426 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:27:58,067 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:27:58,073 p=47426 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:27:58,202 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:27:58,266 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:27:59,516 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:27:59,598 p=47426 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 13:27:59,656 p=47426 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:27:59,685 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:27:59,710 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:27:59,739 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:27:59,744 p=47426 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:27:59,757 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:27:59,768 p=47426 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 13:28:00,659 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:00,660 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:28:00,678 p=47426 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:28:00,679 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:00,738 p=47426 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:28:01,008 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:28:01,185 p=47426 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 13:28:01,207 p=47426 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 13:28:02,482 p=47426 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 13:28:03,741 p=47426 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 13:28:04,987 p=47426 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 13:28:06,218 p=47426 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 13:28:06,229 p=47426 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 13:28:07,079 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:28:07,089 p=47426 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 13:28:07,650 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:28:07,661 p=47426 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 13:28:08,181 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:28:08,193 p=47426 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 13:28:08,670 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:28:08,702 p=47426 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 13:28:08,723 p=47426 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 13:28:09,329 p=47426 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:28:09,337 p=47426 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 13:28:09,886 p=47426 u=ubuntu n=ansible | changed: [db01]
2023-04-19 13:28:09,909 p=47426 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 13:28:12,411 p=47426 u=ubuntu n=ansible | changed: [db01]
2023-04-19 13:28:12,428 p=47426 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 13:28:12,449 p=47426 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 13:28:13,441 p=47426 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:28:13,451 p=47426 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 13:28:13,918 p=47426 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:28:13,929 p=47426 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 13:28:14,231 p=47426 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:28:14,262 p=47426 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 13:28:14,286 p=47426 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 13:28:23,298 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:23,309 p=47426 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 13:28:24,105 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:24,117 p=47426 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 13:28:25,245 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:25,255 p=47426 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 13:28:26,123 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:26,134 p=47426 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 13:28:26,799 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:26,809 p=47426 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 13:28:32,075 p=47426 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 13:28:32,086 p=47426 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 13:28:33,382 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:33,390 p=47426 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 13:28:34,469 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:34,481 p=47426 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 13:28:34,950 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:34,962 p=47426 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 13:28:35,519 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:35,527 p=47426 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 13:28:39,640 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:39,652 p=47426 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 13:28:43,099 p=47426 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:28:43,132 p=47426 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 13:28:43,144 p=47426 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:28:44,112 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:44,131 p=47426 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 13:28:53,531 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:53,541 p=47426 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 13:28:54,472 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:54,484 p=47426 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 13:28:54,944 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:54,956 p=47426 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 13:28:55,515 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:55,527 p=47426 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 13:28:55,835 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:55,847 p=47426 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 13:28:57,067 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:57,079 p=47426 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 13:28:57,104 p=47426 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 13:28:57,124 p=47426 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 13:28:57,675 p=47426 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:28:57,685 p=47426 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 13:28:58,077 p=47426 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:28:58,088 p=47426 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 13:28:58,703 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:28:58,714 p=47426 u=ubuntu n=ansible | TASK [just force systemd to reread configs (2.4 and above)] ************************************************************************************************************
2023-04-19 13:28:59,998 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:29:00,010 p=47426 u=ubuntu n=ansible | TASK [Start & Enable tomcat SVC] ***************************************************************************************************************************************
2023-04-19 13:29:00,818 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:29:00,826 p=47426 u=ubuntu n=ansible | TASK [stat] ************************************************************************************************************************************************************
2023-04-19 13:29:01,339 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:29:01,350 p=47426 u=ubuntu n=ansible | TASK [Stop tomcat8 svc] ************************************************************************************************************************************************
2023-04-19 13:29:03,458 p=47426 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:29:03,466 p=47426 u=ubuntu n=ansible | TASK [Archive ROOT dir with timestamp] *********************************************************************************************************************************
2023-04-19 13:29:06,747 p=47426 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:29:06,759 p=47426 u=ubuntu n=ansible | TASK [copy ROOT dir with old_ROOT name] ********************************************************************************************************************************
2023-04-19 13:29:07,432 p=47426 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:29:07,444 p=47426 u=ubuntu n=ansible | TASK [Delete current artifact] *****************************************************************************************************************************************
2023-04-19 13:29:07,778 p=47426 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT)
2023-04-19 13:29:08,078 p=47426 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT.war)
2023-04-19 13:29:08,089 p=47426 u=ubuntu n=ansible | TASK [Deploy vprofile artifact] ****************************************************************************************************************************************
2023-04-19 13:29:11,427 p=47426 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:29:11,435 p=47426 u=ubuntu n=ansible | TASK [Start tomcat8 svc] ***********************************************************************************************************************************************
2023-04-19 13:29:11,979 p=47426 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:29:11,987 p=47426 u=ubuntu n=ansible | TASK [Wait until ROOT.war is extracted to ROOT directory] **************************************************************************************************************
2023-04-19 13:29:14,639 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:29:14,647 p=47426 u=ubuntu n=ansible | TASK [Deploy web configuration file] ***********************************************************************************************************************************
2023-04-19 13:29:15,595 p=47426 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:29:15,625 p=47426 u=ubuntu n=ansible | PLAY [Setup Nginx svc] *************************************************************************************************************************************************
2023-04-19 13:29:15,678 p=47426 u=ubuntu n=ansible | TASK [Install nginx] ***************************************************************************************************************************************************
2023-04-19 13:29:17,374 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:29:17,385 p=47426 u=ubuntu n=ansible | TASK [Start & ENable Nginx] ********************************************************************************************************************************************
2023-04-19 13:29:17,858 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:29:17,869 p=47426 u=ubuntu n=ansible | TASK [Disable Nginx default website] ***********************************************************************************************************************************
2023-04-19 13:29:18,179 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:29:18,188 p=47426 u=ubuntu n=ansible | TASK [Deploy web config file] ******************************************************************************************************************************************
2023-04-19 13:29:18,774 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:29:18,785 p=47426 u=ubuntu n=ansible | TASK [Enable vproapp website] ******************************************************************************************************************************************
2023-04-19 13:29:19,094 p=47426 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:29:19,124 p=47426 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 13:29:19,124 p=47426 u=ubuntu n=ansible | app01                      : ok=25   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:29:19,124 p=47426 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:29:19,125 p=47426 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:29:19,125 p=47426 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 13:29:19,125 p=47426 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:29:19,125 p=47426 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:29:19,125 p=47426 u=ubuntu n=ansible | web01                      : ok=8    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:31:45,864 p=49827 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 13:31:45,875 p=49827 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:31:47,154 p=49827 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:31:47,175 p=49827 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 13:31:52,508 p=49827 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 13:31:54,928 p=49827 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 13:31:57,296 p=49827 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 13:31:57,308 p=49827 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 13:31:58,190 p=49827 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:31:58,202 p=49827 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 13:31:58,221 p=49827 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 13:31:58,231 p=49827 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 13:31:58,634 p=49827 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:31:58,646 p=49827 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 13:31:58,670 p=49827 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 13:31:58,680 p=49827 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 13:31:59,462 p=49827 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 13:31:59,473 p=49827 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 13:31:59,942 p=49827 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:31:59,970 p=49827 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 13:31:59,976 p=49827 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:32:01,655 p=49827 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:32:01,931 p=49827 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:32:01,938 p=49827 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:32:02,220 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:02,343 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:03,436 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:03,519 p=49827 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 13:32:03,578 p=49827 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:32:03,610 p=49827 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:32:03,642 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:03,670 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:03,675 p=49827 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:32:03,691 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:03,703 p=49827 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 13:32:04,603 p=49827 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:32:04,603 p=49827 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:32:04,618 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:04,622 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:04,700 p=49827 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:32:04,974 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:05,130 p=49827 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 13:32:05,153 p=49827 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 13:32:06,427 p=49827 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 13:32:07,666 p=49827 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 13:32:08,878 p=49827 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 13:32:10,111 p=49827 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 13:32:10,123 p=49827 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 13:32:10,959 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:10,966 p=49827 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 13:32:11,529 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:11,541 p=49827 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 13:32:12,067 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:12,077 p=49827 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 13:32:12,563 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:12,592 p=49827 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 13:32:12,614 p=49827 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 13:32:13,221 p=49827 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:32:13,232 p=49827 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 13:32:13,811 p=49827 u=ubuntu n=ansible | changed: [db01]
2023-04-19 13:32:13,831 p=49827 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 13:32:17,067 p=49827 u=ubuntu n=ansible | changed: [db01]
2023-04-19 13:32:17,083 p=49827 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 13:32:17,104 p=49827 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 13:32:18,118 p=49827 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:32:18,125 p=49827 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 13:32:18,595 p=49827 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:32:18,602 p=49827 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 13:32:18,903 p=49827 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:32:18,932 p=49827 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 13:32:18,956 p=49827 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 13:32:22,152 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:22,164 p=49827 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 13:32:22,951 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:22,961 p=49827 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 13:32:24,072 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:24,084 p=49827 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 13:32:24,940 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:24,951 p=49827 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 13:32:25,621 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:25,633 p=49827 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 13:32:32,296 p=49827 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 13:32:32,308 p=49827 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 13:32:33,598 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:33,607 p=49827 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 13:32:34,726 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:34,737 p=49827 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 13:32:35,214 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:35,225 p=49827 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 13:32:35,774 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:35,785 p=49827 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 13:32:39,902 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:39,914 p=49827 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 13:32:43,369 p=49827 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:32:43,400 p=49827 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 13:32:43,412 p=49827 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:32:44,384 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:44,404 p=49827 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 13:32:49,897 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:49,909 p=49827 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 13:32:50,801 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:50,813 p=49827 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 13:32:51,275 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:51,286 p=49827 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 13:32:51,858 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:51,870 p=49827 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 13:32:52,181 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:52,193 p=49827 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 13:32:53,547 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:53,556 p=49827 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 13:32:53,582 p=49827 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 13:32:53,602 p=49827 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 13:32:54,151 p=49827 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:32:54,163 p=49827 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 13:32:54,539 p=49827 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:32:54,551 p=49827 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 13:32:55,107 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:55,119 p=49827 u=ubuntu n=ansible | TASK [just force systemd to reread configs (2.4 and above)] ************************************************************************************************************
2023-04-19 13:32:55,841 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:55,852 p=49827 u=ubuntu n=ansible | TASK [Start & Enable tomcat SVC] ***************************************************************************************************************************************
2023-04-19 13:32:56,318 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:56,326 p=49827 u=ubuntu n=ansible | TASK [stat] ************************************************************************************************************************************************************
2023-04-19 13:32:56,628 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:32:56,639 p=49827 u=ubuntu n=ansible | TASK [Stop tomcat8 svc] ************************************************************************************************************************************************
2023-04-19 13:32:57,810 p=49827 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:32:57,821 p=49827 u=ubuntu n=ansible | TASK [Archive ROOT dir with timestamp] *********************************************************************************************************************************
2023-04-19 13:33:00,899 p=49827 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:33:00,908 p=49827 u=ubuntu n=ansible | TASK [copy ROOT dir with old_ROOT name] ********************************************************************************************************************************
2023-04-19 13:33:01,550 p=49827 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:33:01,562 p=49827 u=ubuntu n=ansible | TASK [Delete current artifact] *****************************************************************************************************************************************
2023-04-19 13:33:01,902 p=49827 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT)
2023-04-19 13:33:02,202 p=49827 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT.war)
2023-04-19 13:33:02,215 p=49827 u=ubuntu n=ansible | TASK [Deploy vprofile artifact] ****************************************************************************************************************************************
2023-04-19 13:33:05,546 p=49827 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:33:05,558 p=49827 u=ubuntu n=ansible | TASK [Start tomcat8 svc] ***********************************************************************************************************************************************
2023-04-19 13:33:06,091 p=49827 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:33:06,100 p=49827 u=ubuntu n=ansible | TASK [Wait until ROOT.war is extracted to ROOT directory] **************************************************************************************************************
2023-04-19 13:33:08,763 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:33:08,774 p=49827 u=ubuntu n=ansible | TASK [Deploy web configuration file] ***********************************************************************************************************************************
2023-04-19 13:33:09,702 p=49827 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:33:09,733 p=49827 u=ubuntu n=ansible | PLAY [Setup Nginx svc] *************************************************************************************************************************************************
2023-04-19 13:33:09,755 p=49827 u=ubuntu n=ansible | TASK [Install nginx] ***************************************************************************************************************************************************
2023-04-19 13:33:11,273 p=49827 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:33:11,284 p=49827 u=ubuntu n=ansible | TASK [Start & ENable Nginx] ********************************************************************************************************************************************
2023-04-19 13:33:11,751 p=49827 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:33:11,759 p=49827 u=ubuntu n=ansible | TASK [Disable Nginx default website] ***********************************************************************************************************************************
2023-04-19 13:33:12,061 p=49827 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:33:12,072 p=49827 u=ubuntu n=ansible | TASK [Deploy web config file] ******************************************************************************************************************************************
2023-04-19 13:33:12,660 p=49827 u=ubuntu n=ansible | changed: [web01]
2023-04-19 13:33:12,671 p=49827 u=ubuntu n=ansible | TASK [Enable vproapp website] ******************************************************************************************************************************************
2023-04-19 13:33:12,981 p=49827 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:33:13,010 p=49827 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 13:33:13,010 p=49827 u=ubuntu n=ansible | app01                      : ok=25   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:33:13,010 p=49827 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:33:13,010 p=49827 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:33:13,011 p=49827 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 13:33:13,011 p=49827 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:33:13,011 p=49827 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:33:13,011 p=49827 u=ubuntu n=ansible | web01                      : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:34:49,815 p=52227 u=ubuntu n=ansible | PLAY [Generate artifact, copy artifact & sql file to files directory] **************************************************************************************************
2023-04-19 13:34:49,825 p=52227 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:34:51,089 p=52227 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:34:51,110 p=52227 u=ubuntu n=ansible | TASK [Install  jdk, maven, git] ****************************************************************************************************************************************
2023-04-19 13:34:56,166 p=52227 u=ubuntu n=ansible | ok: [localhost] => (item=git)
2023-04-19 13:35:03,023 p=52227 u=ubuntu n=ansible | ok: [localhost] => (item=openjdk-8-jdk)
2023-04-19 13:35:05,486 p=52227 u=ubuntu n=ansible | ok: [localhost] => (item=maven)
2023-04-19 13:35:05,500 p=52227 u=ubuntu n=ansible | TASK [Clone source code from github] ***********************************************************************************************************************************
2023-04-19 13:35:06,494 p=52227 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:35:06,505 p=52227 u=ubuntu n=ansible | TASK [mvn install command to build artifact] ***************************************************************************************************************************
2023-04-19 13:35:06,526 p=52227 u=ubuntu n=ansible | skipping: [localhost]
2023-04-19 13:35:06,537 p=52227 u=ubuntu n=ansible | TASK [Create destination directory] ************************************************************************************************************************************
2023-04-19 13:35:06,943 p=52227 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:35:06,955 p=52227 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 13:35:06,979 p=52227 u=ubuntu n=ansible | ok: [localhost] => {
    "file_create": {
        "changed": false,
        "diff": {
            "after": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            },
            "before": {
                "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files"
            }
        },
        "failed": false,
        "gid": 0,
        "group": "root",
        "mode": "0755",
        "owner": "root",
        "path": "/home/ubuntu/ansible_testing/provision-stack/group_vars/files",
        "size": 4096,
        "state": "directory",
        "uid": 0
    }
}
2023-04-19 13:35:06,990 p=52227 u=ubuntu n=ansible | TASK [Copy artifacts to files directory] *******************************************************************************************************************************
2023-04-19 13:35:07,774 p=52227 u=ubuntu n=ansible | ok: [localhost] => (item=/home/ubuntu/ansible_testing/provision-stack/Vprofile-repo/target/vprofile-v2.war)
2023-04-19 13:35:07,785 p=52227 u=ubuntu n=ansible | TASK [Copy SQL file to files directory] ********************************************************************************************************************************
2023-04-19 13:35:08,254 p=52227 u=ubuntu n=ansible | ok: [localhost]
2023-04-19 13:35:08,286 p=52227 u=ubuntu n=ansible | PLAY [Set host to ip mapping in /etc/hosts file of all the instances in the stack] *************************************************************************************
2023-04-19 13:35:08,292 p=52227 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:35:09,983 p=52227 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:35:10,251 p=52227 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:35:10,330 p=52227 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:35:10,491 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:10,775 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:11,879 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:11,966 p=52227 u=ubuntu n=ansible | TASK [Import VPC setup Variable] ***************************************************************************************************************************************
2023-04-19 13:35:12,034 p=52227 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:35:12,058 p=52227 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:35:12,096 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:12,127 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:12,128 p=52227 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:35:12,140 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:12,152 p=52227 u=ubuntu n=ansible | TASK [Update hosts file for all the hosts] *****************************************************************************************************************************
2023-04-19 13:35:13,070 p=52227 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:35:13,071 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:13,072 p=52227 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:35:13,082 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:13,140 p=52227 u=ubuntu n=ansible | ok: [cntl]
2023-04-19 13:35:13,420 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:13,607 p=52227 u=ubuntu n=ansible | PLAY [Setup Mysql with accounts db and remote login] *******************************************************************************************************************
2023-04-19 13:35:13,630 p=52227 u=ubuntu n=ansible | TASK [Installing Mysql Service and dependencies] ***********************************************************************************************************************
2023-04-19 13:35:14,918 p=52227 u=ubuntu n=ansible | ok: [db01] => (item=mysql-server)
2023-04-19 13:35:16,167 p=52227 u=ubuntu n=ansible | ok: [db01] => (item=mysql-client)
2023-04-19 13:35:17,407 p=52227 u=ubuntu n=ansible | ok: [db01] => (item=python3-mysqldb)
2023-04-19 13:35:18,670 p=52227 u=ubuntu n=ansible | ok: [db01] => (item=libmysqlclient-dev)
2023-04-19 13:35:18,682 p=52227 u=ubuntu n=ansible | TASK [Start and enable mysql service] **********************************************************************************************************************************
2023-04-19 13:35:19,535 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:19,542 p=52227 u=ubuntu n=ansible | TASK [creating mysql user] *********************************************************************************************************************************************
2023-04-19 13:35:20,106 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:20,117 p=52227 u=ubuntu n=ansible | TASK [Creating accounts DB] ********************************************************************************************************************************************
2023-04-19 13:35:20,644 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:20,657 p=52227 u=ubuntu n=ansible | TASK [Enable remote login to mysql svc] ********************************************************************************************************************************
2023-04-19 13:35:21,145 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:21,176 p=52227 u=ubuntu n=ansible | PLAY [Deploy SQL file on accounts db] **********************************************************************************************************************************
2023-04-19 13:35:21,197 p=52227 u=ubuntu n=ansible | TASK [Copy SQL to dbsrv] ***********************************************************************************************************************************************
2023-04-19 13:35:21,802 p=52227 u=ubuntu n=ansible | ok: [db01]
2023-04-19 13:35:21,813 p=52227 u=ubuntu n=ansible | TASK [Restoring DB] ****************************************************************************************************************************************************
2023-04-19 13:35:22,371 p=52227 u=ubuntu n=ansible | changed: [db01]
2023-04-19 13:35:22,392 p=52227 u=ubuntu n=ansible | RUNNING HANDLER [Restart mysql] ****************************************************************************************************************************************
2023-04-19 13:35:24,707 p=52227 u=ubuntu n=ansible | changed: [db01]
2023-04-19 13:35:24,723 p=52227 u=ubuntu n=ansible | PLAY [Install Memcache, Start & enable SVC] ****************************************************************************************************************************
2023-04-19 13:35:24,744 p=52227 u=ubuntu n=ansible | TASK [Install Memcache] ************************************************************************************************************************************************
2023-04-19 13:35:25,781 p=52227 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:35:25,791 p=52227 u=ubuntu n=ansible | TASK [Start & Enable Memcache] *****************************************************************************************************************************************
2023-04-19 13:35:26,262 p=52227 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:35:26,270 p=52227 u=ubuntu n=ansible | TASK [Enable remote login to memecache] ********************************************************************************************************************************
2023-04-19 13:35:26,569 p=52227 u=ubuntu n=ansible | ok: [mc01]
2023-04-19 13:35:26,601 p=52227 u=ubuntu n=ansible | PLAY [Install & Setup RabbitMQ with user] ******************************************************************************************************************************
2023-04-19 13:35:26,625 p=52227 u=ubuntu n=ansible | TASK [Install Erlang Repository Package] *******************************************************************************************************************************
2023-04-19 13:35:33,589 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:33,600 p=52227 u=ubuntu n=ansible | TASK [Add an Erlang Solution public Key] *******************************************************************************************************************************
2023-04-19 13:35:34,393 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:34,406 p=52227 u=ubuntu n=ansible | TASK [Install Erlang] **************************************************************************************************************************************************
2023-04-19 13:35:35,566 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:35,574 p=52227 u=ubuntu n=ansible | TASK [Add an Apt signing key, uses whichever key is at the URL] ********************************************************************************************************
2023-04-19 13:35:36,429 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:36,440 p=52227 u=ubuntu n=ansible | TASK [apt_repository] **************************************************************************************************************************************************
2023-04-19 13:35:37,117 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:37,129 p=52227 u=ubuntu n=ansible | TASK [Update package repository] ***************************************************************************************************************************************
2023-04-19 13:35:39,635 p=52227 u=ubuntu n=ansible | changed: [rmq01]
2023-04-19 13:35:39,646 p=52227 u=ubuntu n=ansible | TASK [Upgrade packages] ************************************************************************************************************************************************
2023-04-19 13:35:41,005 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:41,016 p=52227 u=ubuntu n=ansible | TASK [Install rabbitmq-server] *****************************************************************************************************************************************
2023-04-19 13:35:42,167 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:42,178 p=52227 u=ubuntu n=ansible | TASK [Start & Enable RMQ] **********************************************************************************************************************************************
2023-04-19 13:35:42,651 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:42,660 p=52227 u=ubuntu n=ansible | TASK [Config setup] ****************************************************************************************************************************************************
2023-04-19 13:35:43,222 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:43,233 p=52227 u=ubuntu n=ansible | TASK [rabbitmq_user] ***************************************************************************************************************************************************
2023-04-19 13:35:47,492 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:47,504 p=52227 u=ubuntu n=ansible | TASK [Enables the rabbitmq_management plugin] **************************************************************************************************************************
2023-04-19 13:35:50,974 p=52227 u=ubuntu n=ansible | ok: [rmq01]
2023-04-19 13:35:51,007 p=52227 u=ubuntu n=ansible | PLAY [Setup Tomcat8 & Deploy Artifact] *********************************************************************************************************************************
2023-04-19 13:35:51,018 p=52227 u=ubuntu n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************
2023-04-19 13:35:52,048 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:52,070 p=52227 u=ubuntu n=ansible | TASK [Install JDK on Ubuntu 18/20] *************************************************************************************************************************************
2023-04-19 13:35:56,727 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:56,736 p=52227 u=ubuntu n=ansible | TASK [Download Tomcat Tar Ball/Binaries] *******************************************************************************************************************************
2023-04-19 13:35:57,635 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:57,643 p=52227 u=ubuntu n=ansible | TASK [Add tomcat group] ************************************************************************************************************************************************
2023-04-19 13:35:58,106 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:58,117 p=52227 u=ubuntu n=ansible | TASK [Add tomcat user] *************************************************************************************************************************************************
2023-04-19 13:35:58,679 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:58,688 p=52227 u=ubuntu n=ansible | TASK [file] ************************************************************************************************************************************************************
2023-04-19 13:35:59,000 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:35:59,012 p=52227 u=ubuntu n=ansible | TASK [Extract tomcat] **************************************************************************************************************************************************
2023-04-19 13:36:00,283 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:36:00,294 p=52227 u=ubuntu n=ansible | TASK [debug] ***********************************************************************************************************************************************************
2023-04-19 13:36:00,319 p=52227 u=ubuntu n=ansible | ok: [app01] => {
    "msg": "apache-tomcat-8.5.37"
}
2023-04-19 13:36:00,340 p=52227 u=ubuntu n=ansible | TASK [Synchronize /tmp/tomcat8/tomcat_cont /usr/local/tomcat8.] ********************************************************************************************************
2023-04-19 13:36:00,875 p=52227 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:36:00,885 p=52227 u=ubuntu n=ansible | TASK [Change ownership of /usr/local/tomcat8] **************************************************************************************************************************
2023-04-19 13:36:01,267 p=52227 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:36:01,278 p=52227 u=ubuntu n=ansible | TASK [Setup tomcat SVC file on ubuntu 16 and 18] ***********************************************************************************************************************
2023-04-19 13:36:01,844 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:36:01,856 p=52227 u=ubuntu n=ansible | TASK [just force systemd to reread configs (2.4 and above)] ************************************************************************************************************
2023-04-19 13:36:02,589 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:36:02,600 p=52227 u=ubuntu n=ansible | TASK [Start & Enable tomcat SVC] ***************************************************************************************************************************************
2023-04-19 13:36:03,091 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:36:03,099 p=52227 u=ubuntu n=ansible | TASK [stat] ************************************************************************************************************************************************************
2023-04-19 13:36:03,409 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:36:03,420 p=52227 u=ubuntu n=ansible | TASK [Stop tomcat8 svc] ************************************************************************************************************************************************
2023-04-19 13:36:05,299 p=52227 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:36:05,307 p=52227 u=ubuntu n=ansible | TASK [Archive ROOT dir with timestamp] *********************************************************************************************************************************
2023-04-19 13:36:08,595 p=52227 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:36:08,604 p=52227 u=ubuntu n=ansible | TASK [copy ROOT dir with old_ROOT name] ********************************************************************************************************************************
2023-04-19 13:36:09,219 p=52227 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:36:09,231 p=52227 u=ubuntu n=ansible | TASK [Delete current artifact] *****************************************************************************************************************************************
2023-04-19 13:36:09,571 p=52227 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT)
2023-04-19 13:36:09,874 p=52227 u=ubuntu n=ansible | changed: [app01] => (item=/usr/local/tomcat8/webapps/ROOT.war)
2023-04-19 13:36:09,886 p=52227 u=ubuntu n=ansible | TASK [Deploy vprofile artifact] ****************************************************************************************************************************************
2023-04-19 13:36:13,218 p=52227 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:36:13,230 p=52227 u=ubuntu n=ansible | TASK [Start tomcat8 svc] ***********************************************************************************************************************************************
2023-04-19 13:36:13,763 p=52227 u=ubuntu n=ansible | changed: [app01]
2023-04-19 13:36:13,771 p=52227 u=ubuntu n=ansible | TASK [Wait until ROOT.war is extracted to ROOT directory] **************************************************************************************************************
2023-04-19 13:36:16,414 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:36:16,426 p=52227 u=ubuntu n=ansible | TASK [Deploy web configuration file] ***********************************************************************************************************************************
2023-04-19 13:36:17,353 p=52227 u=ubuntu n=ansible | ok: [app01]
2023-04-19 13:36:17,385 p=52227 u=ubuntu n=ansible | PLAY [Setup Nginx svc] *************************************************************************************************************************************************
2023-04-19 13:36:17,407 p=52227 u=ubuntu n=ansible | TASK [Install nginx] ***************************************************************************************************************************************************
2023-04-19 13:36:18,967 p=52227 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:36:18,978 p=52227 u=ubuntu n=ansible | TASK [Start & ENable Nginx] ********************************************************************************************************************************************
2023-04-19 13:36:19,451 p=52227 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:36:19,461 p=52227 u=ubuntu n=ansible | TASK [Disable Nginx default website] ***********************************************************************************************************************************
2023-04-19 13:36:19,770 p=52227 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:36:19,781 p=52227 u=ubuntu n=ansible | TASK [Deploy web config file] ******************************************************************************************************************************************
2023-04-19 13:36:20,387 p=52227 u=ubuntu n=ansible | changed: [web01]
2023-04-19 13:36:20,396 p=52227 u=ubuntu n=ansible | TASK [Enable vproapp website] ******************************************************************************************************************************************
2023-04-19 13:36:20,711 p=52227 u=ubuntu n=ansible | ok: [web01]
2023-04-19 13:36:20,737 p=52227 u=ubuntu n=ansible | PLAY RECAP *************************************************************************************************************************************************************
2023-04-19 13:36:20,738 p=52227 u=ubuntu n=ansible | app01                      : ok=25   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:36:20,738 p=52227 u=ubuntu n=ansible | cntl                       : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:36:20,738 p=52227 u=ubuntu n=ansible | db01                       : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:36:20,738 p=52227 u=ubuntu n=ansible | localhost                  : ok=7    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2023-04-19 13:36:20,738 p=52227 u=ubuntu n=ansible | mc01                       : ok=6    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:36:20,738 p=52227 u=ubuntu n=ansible | rmq01                      : ok=15   changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2023-04-19 13:36:20,739 p=52227 u=ubuntu n=ansible | web01                      : ok=8    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
